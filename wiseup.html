<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeuroAutoScript V5.2 - Automação Completa Finalíssima</title>
    <style>
        /* --- CONFIGURAÇÕES GLOBAIS E VARIÁVEIS --- */
        :root {
            --bg: #0a0a0a;
            --text: #e8e8e8;
            --primary: #00ffaa;
            --secondary: #00eaff;
            --accent: #ff40ff;
            --warning: #ffdd57;
            --danger: #ff3860;
            --info: #4a4a4a;
            --border-color: #555;
            --placeholder-color: #888;
            --tooltip-bg: #1e1e1e;
            --tooltip-text: var(--primary);
            --highlight-bg: rgba(0, 255, 170, 0.15);
            --focus-shadow: 0 0 12px rgba(0, 255, 170, 0.7);
            --timer-color: var(--warning);
            --progress-bg: #333;
            --progress-fill: var(--warning);
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 6px rgba(255, 64, 255, 0.6); }
            50% { box-shadow: 0 0 18px rgba(255, 64, 255, 1); }
            100% { box-shadow: 0 0 6px rgba(255, 64, 255, 0.6); }
        }

        @keyframes glow {
             0% { box-shadow: 0 0 4px rgba(0, 255, 170, 0.4); }
            50% { box-shadow: 0 0 10px rgba(0, 255, 170, 0.8); }
            100% { box-shadow: 0 0 4px rgba(0, 255, 170, 0.4); }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- ESTILOS BASE --- */
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Fira Code', 'Roboto Mono', monospace;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 0;
            display: flex;
            min-height: 100vh;
            font-size: 15px;
        }

        button {
             font-family: inherit;
             cursor: pointer;
             transition: all 0.2s ease;
             border-radius: 5px;
             padding: 10px 15px;
             font-size: 0.95em;
             border: none;
        }
         button:hover:not(:disabled) {
             filter: brightness(1.15);
             transform: translateY(-1px);
             box-shadow: 0 2px 5px rgba(0,0,0,0.3);
         }
         button:active:not(:disabled) {
              transform: translateY(0px);
              filter: brightness(1);
              box-shadow: inset 0 1px 3px rgba(0,0,0,0.2);
          }
         button:disabled {
             background-color: var(--border-color) !important;
             color: #777 !important;
             cursor: not-allowed !important;
             opacity: 0.6 !important;
             transform: none !important;
             filter: grayscale(50%) !important;
             box-shadow: none !important;
         }

        hr { border: 0; height: 1px; background-color: var(--border-color); margin: 25px 0; }

        /* --- LAYOUT PRINCIPAL --- */
        #controlPanel {
            width: 340px;
            background-color: #111;
            padding: 25px;
            border-right: 3px solid var(--primary);
            height: 100vh;
            overflow-y: auto;
            position: sticky;
            top: 0;
            box-shadow: 6px 0 18px rgba(0, 255, 170, 0.1);
        }

        #scriptViewer {
            flex-grow: 1;
            padding: 0;
            overflow-y: auto;
            height: 100vh;
            position: relative;
        }

        #scriptContentArea { padding: 30px; }

        /* --- PAINEL DE CONTROLE --- */
        #controlPanel h2 {
            color: var(--primary);
            margin-top: 0;
            font-size: 1.4em;
            border-bottom: 2px solid var(--primary);
            padding-bottom: 12px;
            text-align: center;
            margin-bottom: 25px;
        }
        .input-group { margin-bottom: 20px; }
        .input-group label {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            color: var(--secondary);
            font-size: 1em;
        }
        .input-group label .icon { margin-right: 8px; font-size: 1.1em; }
        .input-group input[type="text"],
        .input-group select,
        .input-group textarea {
            width: calc(100% - 20px);
            padding: 10px;
            background-color: var(--info);
            border: 1px solid var(--border-color);
            border-radius: 5px;
            color: var(--text);
            font-family: inherit;
            font-size: 1em;
            transition: all 0.3s ease;
        }
        .input-group input:focus,
        .input-group select:focus,
        .input-group textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: var(--focus-shadow);
            background-color: #282828;
        }
         .input-group textarea { min-height: 70px; resize: vertical; }
         .input-group small { color: #aaa; font-size: 0.85em; margin-top: 5px; display: block; font-style: italic;}

        /* --- HEADER E NAVEGAÇÃO DO SCRIPT --- */
         #scriptHeader {
            position: sticky;
            top: 0;
            background: rgba(10, 10, 10, 0.98);
            backdrop-filter: blur(10px);
            padding: 15px 30px;
            z-index: 900;
            border-bottom: 2px solid var(--border-color);
         }

        .progress-tracker {
            height: 12px;
            background: var(--progress-bg);
            border-radius: 6px;
            overflow: hidden;
            margin-bottom: 15px;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.5);
        }
        .progress-bar {
            width: 0%;
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--progress));
            transition: width 0.5s ease-out;
            border-radius: 6px;
             box-shadow: 0 0 10px var(--progress);
        }
         #scriptNav {
             display: flex;
             flex-wrap: wrap;
             gap: 8px;
         }
         #scriptNav button {
             background: none;
             border: 1px solid var(--secondary);
             color: var(--secondary);
             font-size: 0.9em;
             padding: 6px 10px;
             flex-shrink: 0;
         }
         #scriptNav button.active-nav {
             background-color: var(--secondary);
             color: #000;
             font-weight: bold;
              box-shadow: 0 0 12px var(--secondary);
             border-color: var(--secondary);
         }

        /* --- VISUALIZADOR DO SCRIPT --- */
        .script-phase {
            margin-bottom: 50px;
            padding: 30px;
            border: 2px solid var(--secondary);
            border-radius: 12px;
            background-color: rgba(0, 212, 255, 0.02);
            display: none;
            animation: fadeIn 0.5s ease-out;
        }
        .script-phase.active-phase {
             display: block;
             border-color: var(--primary);
             animation: glow 1.8s infinite alternate, fadeIn 0.5s ease-out;
         }
        .script-phase h3 {
            color: var(--secondary);
            margin-top: 0;
            font-size: 1.4em;
            border-bottom: 2px solid var(--secondary);
            padding-bottom: 12px;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            justify-content: space-between; /* Alinha timer à direita */
        }
         .script-phase h3 .phase-title-content {
             display: flex;
             align-items: center;
         }
         .script-phase h3 .neuro-tag { margin-right: 15px; font-size: 0.8em; padding: 5px 10px; background-color: var(--primary); color: #000;} /* Tag de Fase sempre verde */

        .script-text { line-height: 1.9; font-size: 1.05em; }
        .script-text p { margin: 18px 0; } /* Mais espaço entre parágrafos */
        .script-text strong { color: var(--text); font-weight: 600; }

        /* Placeholders e Automação */
        span[data-fill] {
            font-style: italic;
            color: var(--placeholder-color);
            border-bottom: 1px dashed var(--placeholder-color);
            cursor: help;
            padding: 1px 4px; /* Ajuste fino */
            transition: all 0.3s ease;
            display: inline-block;
            min-width: 30px; /* Garante espaço mínimo para placeholders vazios */
            text-align: center;
        }
        .placeholder-filled {
            color: var(--primary) !important;
            font-weight: bold;
            background-color: var(--highlight-bg);
            padding: 2px 6px; /* Padding ligeiramente maior */
            border-radius: 4px;
            font-style: normal !important;
            border-bottom: none !important;
            box-shadow: 0 0 6px rgba(0, 255, 170, 0.4);
            margin: 0 2px;
        }

        /* Lembretes e Ênfase */
        .context-reminder {
            font-size: 0.9em;
            color: var(--accent);
            margin-left: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: bold;
            display: inline-flex;
            align-items: center;
            background: rgba(255, 64, 255, 0.1);
            padding: 4px 10px; /* Ligeiramente maior */
            border-radius: 15px;
            border: 1px solid var(--accent);
        }
        .context-reminder::before { content: "✍️"; margin-right: 6px; }
        .context-reminder:hover { color: var(--primary); border-color: var(--primary); background: rgba(0, 255, 170, 0.1); transform: scale(1.05); }

        .voice-emphasis {
            color: var(--accent);
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 0.8px;
             border-bottom: 2px dotted var(--accent);
             padding-bottom: 1px;
             background: linear-gradient(to top, rgba(255, 64, 255, 0.15) 30%, transparent 30%); /* Fundo sutil */
        }
        .action-reminder {
            color: var(--warning);
            font-style: italic;
             background: rgba(255, 221, 87, 0.1);
             padding: 10px 15px; /* Mais padding */
             border-radius: 5px;
             display: block;
             margin: 12px 0;
             border-left: 4px solid var(--warning); /* Borda mais grossa */
        }
        .script-note {
            background-color: rgba(0, 234, 255, 0.08);
            border-left: 4px solid var(--secondary);
            padding: 18px 20px; /* Mais padding */
            margin: 20px 0;
            font-size: 0.95em;
            border-radius: 0 8px 8px 0; /* Mais arredondado */
        }
         .script-note strong { color: var(--secondary); font-weight: bold; }
         .script-note ul, .script-note ol { margin-top: 10px; padding-left: 25px;} /* Espaçamento interno */

         /* Rota B (Caminho do NÃO) */
         .no-path {
             border: 2px dashed var(--danger);
             background-color: rgba(255, 56, 96, 0.05);
             padding: 20px; /* Mais padding */
             margin-top: 25px;
             border-radius: 8px;
             display: none;
             animation: fadeIn 0.5s ease-out;
         }
         .no-path h4 { color: var(--danger); margin-top: 0; border-bottom: 1px solid var(--danger); padding-bottom: 8px;}

         /* Timer por Fase */
         .phase-timer {
             /* position: absolute; top: 15px; right: 20px; -> Movido para dentro do H3 */
             font-size: 0.8em; /* Menor */
             color: var(--timer-color);
             background: rgba(255, 221, 87, 0.15);
             padding: 4px 10px;
             border-radius: 12px;
             font-weight: bold;
             opacity: 0.8;
             margin-left: auto; /* Empurra para a direita */
         }

        /* Navegação entre Fases */
        .phase-nav {
            margin-top: 35px; /* Mais espaço */
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-top: 1px solid var(--border-color);
            padding-top: 25px;
        }
        .phase-nav button {
             background-color: var(--primary);
             color: #000;
             border: none;
             padding: 12px 22px;
             cursor: pointer;
             font-weight: bold;
             font-size: 1em;
         }
         .phase-nav button.back-btn {
              background-color: var(--border-color);
              color: var(--text);
          }
         .phase-nav .decision-buttons { text-align: right; } /* Alinha botões Sim/Não à direita */
         .phase-nav .decision-buttons button {
             margin-left: 12px;
             padding: 10px 15px;
             font-size: 0.9em;
         }
         .phase-nav .yes-btn { background-color: var(--primary); color: #000; }
         .phase-nav .no-btn { background-color: var(--danger); color: var(--text); }

         /* Interatividade Avançada */
         .neuro-hack {
            border-bottom: 1px dotted var(--secondary);
            cursor: help;
            position: relative;
            color: var(--secondary);
         }
         .neuro-hack .tooltip-content {
            visibility: hidden;
            width: 280px; /* Mais largo */
            background-color: var(--tooltip-bg);
            color: var(--tooltip-text);
            text-align: left;
            border-radius: 6px;
            padding: 12px;
            position: absolute;
            z-index: 10;
            bottom: 135%; /* Mais distante */
            left: 50%;
            margin-left: -140px;
            opacity: 0;
            transition: opacity 0.3s, visibility 0s 0.3s;
            font-size: 0.9em;
            line-height: 1.6; /* Mais espaçado */
            font-style: normal;
            box-shadow: 0 5px 15px rgba(0,0,0,0.6);
         }
          .neuro-hack .tooltip-content strong { color: var(--warning); } /* Destaque no tooltip */
         .neuro-hack:hover .tooltip-content {
            visibility: visible;
            opacity: 1;
             transition: opacity 0.3s;
         }

         .checklist { list-style: none; padding-left: 0; margin-top: 15px;}
         .checklist li {
              margin-bottom: 12px; /* Mais espaço */
              cursor: pointer;
              padding: 10px 12px; /* Mais padding */
              border-radius: 6px;
              transition: background-color 0.2s;
              display: flex;
              align-items: center;
              border: 1px solid var(--border-color);
              background-color: rgba(255,255,255,0.04); /* Fundo ligeiramente mais visível */
          }
          .checklist li:hover { background-color: rgba(255, 255, 255, 0.1); }
         .checklist input[type="checkbox"] {
             margin-right: 15px; /* Mais espaço */
             accent-color: var(--primary);
             transform: scale(1.3); /* Checkbox maior */
             cursor: pointer;
             flex-shrink: 0;
         }
         .checklist li.checked {
             text-decoration: line-through;
             color: var(--placeholder-color);
             background-color: rgba(0, 255, 170, 0.07); /* Fundo verde mais sutil */
             border-color: var(--primary);
          }
         .checklist li span[data-fill] { border-bottom: none; }

         .objection-handler { margin-top: 20px; }
         .objection-handler > p { margin-bottom: 15px; color: var(--secondary); font-weight: bold; }
         .objection-handler button {
              background-color: var(--accent);
              color: #000;
              margin: 8px 5px;
              border: none;
              padding: 8px 12px;
          }
          #objectionResponseArea {
              margin-top: 20px;
              padding: 20px; /* Mais padding */
              border: 2px dashed var(--warning);
              background-color: rgba(255, 221, 87, 0.07);
              border-radius: 8px; /* Mais arredondado */
              min-height: 70px;
              color: var(--warning);
              font-style: italic; /* Resposta em itálico */
              line-height: 1.7;
          }
           #objectionResponseArea span[data-fill] {
               color: var(--primary) !important;
               font-style: normal !important; /* Nomes preenchidos não ficam em itálico */
               border-bottom: none !important;
           }
           #objectionResponseArea strong { font-style: normal; } /* Negrito não fica em itálico */


           /* Estilo para Dicas Ativas geradas por JS */
           .active-guidance-tip {
               background-color: rgba(0, 234, 255, 0.1);
               border-left: 4px solid var(--secondary);
               padding: 15px; /* Mais padding */
               margin: 20px 0;
               border-radius: 6px;
               font-style: italic;
               color: var(--secondary);
               animation: fadeIn 0.6s;
               font-size: 0.95em;
           }
           .active-guidance-tip strong { color: var(--primary); }

           /* Scrollbar Styling (Opcional, para navegadores Webkit) */
            ::-webkit-scrollbar {
                width: 10px;
            }
            ::-webkit-scrollbar-track {
                background: #222;
            }
            ::-webkit-scrollbar-thumb {
                background: var(--primary);
                border-radius: 5px;
            }
            ::-webkit-scrollbar-thumb:hover {
                background: #00cc6a;
            }

    </style>
</head>
<body>

    <!-- Painel de Controle Lateral -->
    <aside id="controlPanel">
         <h2>
             <span class="neuro-tag" style="background: var(--primary); color: #000;">🧠</span>
             Painel de Contexto
         </h2>
         <div class="input-group">
             <label for="prospectNameInput"><span class="icon">👤</span>Nome do Prospect:</label>
             <input type="text" id="prospectNameInput" placeholder="Ex: Maria Silva">
         </div>
         <div class="input-group">
             <label for="referrerNameInput"><span class="icon">🤝</span>Nome do Indicador:</label>
             <input type="text" id="referrerNameInput" placeholder="Ex: João Souza">
         </div>
         <div class="input-group">
             <label for="mainPainInput"><span class="icon" style="color: var(--danger);">🔥</span>Dor Principal / Problema:</label>
             <textarea id="mainPainInput" placeholder="Ex: Trava na hora de falar"></textarea>
             <small>O que mais incomoda o prospect? (Use as palavras dele)</small>
         </div>
         <div class="input-group">
             <label for="dreamNeedInput"><span class="icon" style="color: var(--primary);">⭐</span>Necessidade / Sonho Principal:</label>
             <textarea id="dreamNeedInput" placeholder="Ex: Viajar para a Europa"></textarea>
              <small>Qual o MAIOR objetivo dele com o inglês?</small>
         </div>
         <div class="input-group">
             <label for="implicationInput"><span class="icon" style="color: var(--warning);">📉</span>Impacto da Implicação:</label>
             <textarea id="implicationInput" placeholder="Ex: Perdeu promoção, viagem frustrada"></textarea>
              <small>Qual a consequência REAL e SENTIDA da dor?</small>
         </div>
         <div class="input-group">
             <label for="hobbyInput"><span class="icon" style="color: var(--accent);">🎮</span>Hobby Principal:</label>
             <input type="text" id="hobbyInput" placeholder="Ex: Séries (Suits), Games (RPG)">
         </div>
          <div class="input-group">
             <label for="jobAreaInput"><span class="icon" style="color: var(--secondary);">💼</span>Área de Trabalho:</label>
             <input type="text" id="jobAreaInput" placeholder="Ex: T.I., Saúde, Marketing">
         </div>
         <div class="input-group">
             <label for="englishLevelInput"><span class="icon">📊</span>Nível de Inglês Atual:</label>
             <select id="englishLevelInput">
                 <option value="">Selecione...</option>
                 <option value="Zerado">Zerado (Não sabe nada)</option>
                 <option value="Básico">Básico (Sabe palavras, frases curtas)</option>
                 <option value="Intermediário">Intermediário (Entende, mas trava pra falar)</option>
                 <option value="Avançado">Avançado (Comunica bem, quer refinar)</option>
             </select>
         </div>
         <div class="input-group">
              <label for="decisionMakerInput"><span class="icon">🔑</span>Decisor:</label>
              <select id="decisionMakerInput">
                  <option value="ele">Ele(a) mesmo(a)</option>
                  <option value="conjuge">Conjuge</option>
                  <option value="pais">Pais</option>
                  <option value="socio">Sócio(a)</option>
                  <option value="outro">Outro</option>
              </select>
          </div>
            <hr>
           <button onclick="resetScript()" style="width: 100%; background-color: var(--danger); color: var(--text); font-weight: bold;">🔄 Resetar Script</button>

    </aside>

    <!-- Área de Visualização do Script -->
    <main id="scriptViewer">
        <!-- Header Fixo do Script -->
        <div id="scriptHeader">
             <div class="progress-tracker" title="Progresso Geral do Script">
                <div class="progress-bar" id="scriptProgressBar"></div>
            </div>
             <nav id="scriptNav">
                 <!-- Gerado por JS -->
             </nav>
         </div>

         <div id="scriptContentArea">
            <!-- Fase 0: Preparação -->
            <section id="phase-0-prep" class="script-phase">
                <h3>
                    <div class="phase-title-content">
                         <span class="neuro-tag">🚀 0</span>
                         PREPARAÇÃO
                    </div>
                    <div class="phase-timer" id="timer-phase-0-prep" title="Tempo gasto nesta fase">0s</div>
                </h3>
                 <p style="font-size: 0.9em; color: var(--secondary); margin-top: -15px; margin-bottom: 20px;"><i>Objetivo: Entrar no Estado Mental e Técnico Ideal</i></p>
                <div class="script-text">
                    <div class="script-note">
                        <strong style="color:var(--primary)">CHECKLIST PRÉ-LIGAÇÃO (Marque ao concluir):</strong>
                        <ul class="checklist">
                            <li onclick="toggleChecklistItem(this)"><input type="checkbox"> 🧠 **Mindset:** Ativado? ("Sou especialista", "Foco no Cliente", "Indicação=Confiança"). <span class="neuro-hack" data-tooltip="Visualizar sucesso pré-ativa redes neurais de confiança e otimismo.">🧠</span></li>
                            <li onclick="toggleChecklistItem(this)"><input type="checkbox">⚡ **Energia:** Postura OK? <span class="neuro-hack" data-tooltip="Postura ereta envia sinais de confiança ao cérebro.">🧍</span> Respiração 4-7-8 OK? <span class="neuro-hack" data-tooltip="Acalma a amígdala, reduz cortisol, aumenta clareza mental.">🌬️</span> Visualização OK? <span class="neuro-hack" data-tooltip="Relembrar vitórias libera dopamina, aumentando motivação.">🏆</span></li>
                            <li onclick="toggleChecklistItem(this)"><input type="checkbox">🛠️ **Ferramentas:** Script aberto? ✅ CRM/Notas pronto? ✅ Link Vendas fácil? ✅</li>
                            <li onclick="toggleChecklistItem(this)"><input type="checkbox">ℹ️ **Info Essencial:** Nome Prospect (<span data-fill="prospectName">[Nome do Prospect]</span>) OK? Nome Indicador (<span data-fill="referrerName">[Nome do {nomeLead}]</span>) OK?</li>
                        </ul>
                    </div>
                     <p class="action-reminder">⚠️ LEMBRETE GERAL: <span class="voice-emphasis">ENERGIA 100%! SORRIA</span> (o cliente 'ouve' o sorriso)! <span class="voice-emphasis">TOM CONSULTIVO</span> (Calmo, Confiante, Empático). <span class="voice-emphasis">ESCUTA ATIVA</span> (Mais ouvir, menos falar)! <span class="voice-emphasis">VOZ É FUNDAMENTAL!</span></p>
                     <p style="text-align: center; margin-top: 25px; font-size: 1.1em;">👇<br><strong>Quando estiver pronto(a), clique em "Iniciar Chamada".</strong></p>
                </div>
                 <div class="phase-nav">
                     <span><!-- Espaço Vazio --></span>
                    <button onclick="navigateToPhaseByIndex(1)">🚀 Iniciar Chamada (Fase 1)</button>
                </div>
            </section>

            <!-- Fase 1: Abertura e Qualificação -->
             <section id="phase-1-opening" class="script-phase">
                 <h3>
                    <div class="phase-title-content">
                        <span class="neuro-tag">📞 1</span>
                        ABERTURA & QUALIFICAÇÃO
                    </div>
                    <div class="phase-timer" id="timer-phase-1-opening" title="Tempo gasto nesta fase">0s</div>
                 </h3>
                  <p style="font-size: 0.9em; color: var(--secondary); margin-top: -15px; margin-bottom: 20px;"><i>Objetivo: Criar Rapport Instantâneo, Verificar Interesse, Tempo e Decisor.</i></p>
                <div class="script-text">
                     <p class="action-reminder">▶️ INÍCIO DA LIGAÇÃO | Tom: PROFISSIONAL, <span class="voice-emphasis">ENÉRGICO</span> e <span class="voice-emphasis">POSITIVO</span></p>
                     <p><strong>Felipe Fala:</strong> Alô, <span data-fill="prospectName">[Nome do Prospect]</span>?</p>
                     <p class="action-reminder">❓ AGUARDE CONFIRMAÇÃO. Se não for, pergunte o melhor horário para ligar.</p>
                     <p><em>PROSPECT: Sim.</em></p>
                     <p class="action-reminder">▶️ Tom: PROFISSIONAL, <span class="voice-emphasis">ENÉRGICO</span> e <span class="voice-emphasis">POSITIVO</span></p>
                     <p><strong>Felipe Fala:</strong> Oi <span data-fill="prospectName">[Nome do Prospect]</span>, aqui é <span class="neuro-hack" data-tooltip="Nome completo + Empresa = Credibilidade">FELIPE RIBEIRO</span> da Wise Up Online, tudo bem por aí?</p>
                     <p class="action-reminder">⏸️ <span class="neuro-hack" data-tooltip="Essencial para mostrar que você não é um robô e está ouvindo.">ESPERE A RESPOSTA (Pausa 0.1-0.3s)</span> - Demonstre interesse genuíno.</p>

                     <p><strong style="color:var(--primary)">🔗 [Ponte de Confiança: <span class="neuro-hack" data-tooltip="Princípio da Prova Social e Autoridade por Associação. Reduz drasticamente a resistência.">Indicação IMEDIATA</span>]</strong></p>
                     <p><strong>Felipe Fala:</strong> O motivo da minha ligação, <span data-fill="prospectName">[Nome do Prospect]</span>, é que nosso amigo(a) em comum, o(a) <span data-fill="referrerName" class="neuro-hack" data-tooltip="Repetir o nome do indicador reforça a conexão.">[CARLOS,JOAO,...]</span>, te indicou para uma <span class="neuro-hack" data-tooltip="Evita palavras como 'venda' ou 'produto'. 'Oportunidade' é positivo.">oportunidade bem legal</span> aqui da Wise Up. Ele(a) chegou a te dar um toque que eu ligaria?</p>
                     <p class="action-reminder">❓ OUÇA a resposta e adapte-se.</p>
                     <p><em>PROSPECT: Ah sim, ele(a) comentou algo / Não, não falou / Não lembro.</em></p>

                     <p><strong style="color:var(--secondary)">🔗 [Reforço da Indicação + <span class="neuro-hack" data-tooltip="Pergunta aberta e de baixo compromisso para medir o interesse inicial no TEMA.">Qualificação de Interesse</span>]</strong></p>
                     <p><strong>Felipe Fala:</strong> Tranquilo! O(A) <span data-fill="referrerName">[CARLOS,JOAO,...]</span> está fazendo nosso curso de inglês online, <span class="neuro-hack" data-tooltip="Reforço positivo da experiência do indicador.">está gostando bastante</span> e lembrou de você, achou que poderia ser interessante pra você também. Me diz uma coisa, <span data-fill="prospectName">[Nome do Prospect]</span>: <span class="neuro-hack" data-tooltip="Amplia o escopo para incluir diferentes motivações.">aprender ou destravar o inglês</span>, pra vida, pra trabalho, pra realizar algum <span class="neuro-hack" data-tooltip="Planta a semente do 'sonho' - motivação intrínseca.">sonho</span>... é algo que <span class="voice-emphasis">te interessa</span>, que está no seu radar <span class="neuro-hack" data-tooltip="Pergunta leve, sem pressão. 'Estar no radar' é menos comprometedor.">agora</span>? <span class="context-reminder" onclick="focusInput('dreamNeedInput')">Capturar [Necessidade/Sonho Principal]</span></p>

                     <div class="phase-nav decision-buttons">
                         <button class="yes-btn" onclick="handleInterestResponse(true)">✅ Sim / Talvez / Depende</button>
                         <button class="no-btn" onclick="handleInterestResponse(false)">❌ Não / Agora Não</button>
                     </div>

                     <!-- Rota B: Sem Interesse Inicial -->
                     <div id="noInterestPath" class="no-path">
                         <h4>📉 Rota B: Sem Interesse Inicial</h4>
                         <p><strong>Felipe Fala:</strong> Entendi, <span data-fill="prospectName">[Nome]</span>, sem problema algum! Agradeço <span class="neuro-hack" data-tooltip="Valida a resposta dele, mesmo negativa.">sua honestidade</span>. Já que o(a) <span data-fill="referrerName">[Nome do {nomeLead}]</span> lembrou de você <span class="neuro-hack" data-tooltip="Usa a indicação como justificativa para o próximo passo"> (e ele(a) gosta bastante do curso!)</span>, talvez você conheça outras pessoas que poderiam se interessar por essa oportunidade de aprender inglês com uma condição especial vinda da indicação dele(a). **Você se importaria de me indicar alguns contatos <span class="neuro-hack" data-tooltip="Pedido direto, mas educado.">rapidamente</span>? Seria uma grande ajuda para mim e para o(a) <span data-fill="referrerName">[Nome do {nomeLead}]</span>.** <span style="color: var(--accent)">[<span class="neuro-hack" data-tooltip="Última tentativa de valorizar a ligação, focando em ajudar o indicador.">Pede Referidos usando a Indicação como Motivo</span>]</span></p>
                         <div class="phase-nav decision-buttons">
                             <button class="yes-btn" onclick="navigateToPhaseById('phase-8-referrals')">Sim, indico</button>
                             <button class="no-btn" onclick="endCallPolitely('Agradeço mesmo assim. Tenha um ótimo dia!')">Não posso indicar</button>
                         </div>
                     </div>

                     <!-- Continuação se Interesse (Rota A) -->
                     <div id="interestPath" style="display:none;">
                         <hr style="border-color: var(--border-color);">
                         <p><strong>Felipe Fala:</strong></p>
                         <div class="script-note" style="border-color: var(--accent);">
                            <p>Que ótimo! E você teria <strong class="voice-emphasis">uns 10, no máximo 15 minutinhos, pra gente conversar sobre isso AGORA?</strong> <span class="neuro-hack" data-tooltip="Define tempo específico e curto, reduzindo a percepção de 'perda de tempo'.">Tempo Definido</span>. Assim posso entender <span class="neuro-hack" data-tooltip="Posiciona você como consultor, não vendedor.">sua necessidade</span> e ver se temos algo que <span class="voice-emphasis">realmente</span> te ajude. <span style="color: var(--accent)">[<span class="neuro-hack" data-tooltip="Mostra intenção clara e focada no benefício do prospect.">Propósito Claro</span>]</span> <strong style="color:var(--warning)">[OPCIONAL: "Posso contar com sua atenção total nesse tempinho para te apresentar algo que pode mudar seu jogo?"]</strong></p>
                         </div>
                          <div class="phase-nav decision-buttons">
                             <button class="yes-btn" onclick="handleTimeResponse(true)">✅ Sim, tenho tempo</button>
                             <button class="no-btn" onclick="handleTimeResponse(false)">❌ Não tenho tempo agora</button>
                         </div>

                         <!-- Rota B: Sem Tempo Agora -->
                         <div id="noTimePath" class="no-path">
                             <h4>⏰ Rota B: Sem Tempo Agora</h4>
                             <p><strong>Felipe Fala:</strong> Sem problemas, <span data-fill="prospectName">[Nome]</span>! Entendo perfeitamente a correria. Pra gente não perder essa <span class="neuro-hack" data-tooltip="Reforça a exclusividade ligada à indicação">condição especial da indicação</span> do(a) <span data-fill="referrerName">[Nome do {nomeLead}]</span>, qual seria o <span class="voice-emphasis">melhor horário</span> pra eu te retornar <span class="neuro-hack" data-tooltip="Sugere horários específicos para facilitar a decisão">amanhã</span> e a gente conversar com calma por esses 10-15 minutinhos? Manhã ou tarde?</p>
                             <p class="action-reminder">➡️ AGENDAR HORÁRIO NO CRM E ENCERRAR CORDIALMENTE. "Combinado, <span data-fill="prospectName">[Nome]</span>! Te ligo amanhã às [Horário]. Até lá!"</p>
                         </div>

                         <!-- Continuação se Tempo OK -->
                         <div id="timeOkPath" style="display:none;">
                              <p><span style="color: var(--secondary)">🔑 [<span class="neuro-hack" data-tooltip="Essencial! Evita apresentar tudo para quem não decide. A urgência justifica a pergunta.">Qualifica Decisor + Justifica com Indicação/Urgência</span>]</span></p>
                             <div class="script-note">
                                 <p><strong>Felipe Fala:</strong> Excelente! E só pra gente alinhar, <span data-fill="prospectName">[Nome DA PESSOA]</span>, uma decisão como essa, de começar um curso, <strong class="voice-emphasis">é algo que você costuma decidir 100% sozinho(a) ou geralmente valida com mais alguém</strong> (<span class="neuro-hack" data-tooltip="Normaliza a consulta a terceiros">tipo cônjuge, sócio, etc.</span>)? <span class="context-reminder" onclick="focusInput('decisionMakerInput')">Capturar Decisor</span> Pergunto porque a <strong style="color: var(--accent)">condição especial</strong> vinda da indicação do(a) <span data-fill="referrerName">[CARLOS,JOAO,...]</span> tem <strong class="voice-emphasis">validade curta</strong>, geralmente para o dia da ligação, e seria uma pena perder se precisar de mais tempo pra alinhar com outra pessoa.</p>
                                 <p class="action-reminder">⚠️ **ATENÇÃO:** Se ele(a) precisar validar, tente agendar uma conversa com TODOS juntos ou forneça material para ele(a) apresentar.</p>
                             </div>
                              <div class="phase-nav">
                                 <button class="back-btn" onclick="navigateToPhaseByIndex(0)">Voltar (Fase 0)</button>
                                <button onclick="navigateToPhaseByIndex(2)">✅ Tudo Certo! Avançar para SPIN (Fase 2)</button>
                            </div>
                         </div>
                    </div> <!-- Fim Interest Path -->
                </div>
            </section>

             <!-- Fase 2: Investigação SPIN -->
              <section id="phase-2-spin" class="script-phase">
                 <div class="phase-timer" id="timer-phase-2-spin">0s</div>
                 <h3>
                    <div class="phase-title-content">
                         <span class="neuro-tag" style="background: var(--accent); color: #000;">🔍 2</span>
                         INVESTIGAÇÃO SPIN
                    </div>
                    <div class="phase-timer" id="timer-phase-2-spin" title="Tempo gasto nesta fase">0s</div>
                 </h3>
                  <p style="font-size: 0.9em; color: var(--secondary); margin-top: -15px; margin-bottom: 20px;"><i>Objetivo: Diagnosticar Dor e Sonho Profundamente (Situação > Problema > Implicação > Necessidade)</i></p>
                 <div class="script-text">
                     <p><strong style="color:var(--primary)">👨‍⚕️ [<span class="neuro-hack" data-tooltip="Sua postura deve ser de um consultor interessado em ajudar, não um vendedor apressado.">Posiciona Diagnóstico Profissional</span>]</strong></p>
                     <p><strong>Felipe Fala:</strong> Perfeito, <span data-fill="prospectName">[Nome]</span>. Então, pra gente começar nosso papo e eu entender <span class="neuro-hack" data-tooltip="Foco no benefício PARA ELE, não no seu produto">onde o inglês pode te ajudar mais</span>, me conta:</p>

                     <hr style="border-color: var(--border-color);">
                     <p><strong style="color: var(--secondary); font-size: 1.1em;">(S - Situação):</strong> <span class="neuro-hack" data-tooltip="Perguntas factuais sobre o presente. Fáceis de responder. Cuidado para não demorar muito aqui.">?</span></p>
                     <p><strong>Felipe Fala:</strong> <strong class="voice-emphasis">Como tá seu inglês hoje?</strong> <span class="neuro-hack" data-tooltip="Pergunta aberta inicial. Ouça os detalhes.">Já estudou antes, tá começando do zero, como você se avalia?</span> <span class="context-reminder" onclick="focusInput('englishLevelInput')">Capturar Nível</span></p>
                     <p><em>PROSPECT: (Responde sobre o nível...)</em></p>
                      <p class="action-reminder">⚠️ **OUÇA ATENTAMENTE:** A resposta define o ponto de partida! Valide: "Entendi, então hoje você está mais no [Nível]..."</p>

                     <p><strong>Felipe Fala:</strong> Entendi... E hoje, na sua vida, <strong class="voice-emphasis">onde você <span class="neuro-hack" data-tooltip="A palavra 'sente' acessa a percepção emocional, mais forte que a racional.">sente</span> que falar inglês faria <span class="neuro-hack" data-tooltip="Foco no impacto positivo, na diferença que faria.">mais diferença</span>?</strong> Seria mais pra <strong style="color:var(--secondary)">impulsionar as coisas no trabalho</strong> <span class="context-reminder" onclick="focusInput('jobAreaInput')">?</span>, pra poder <strong style="color:var(--accent)">viajar pra fora com mais tranquilidade</strong> <span class="context-reminder" onclick="focusInput('dreamNeedInput')">?</span> (tem algum lugar que você sonha conhecer, tipo Disney, Europa?), pra <strong style="color:var(--primary)">estudar algo específico</strong> <span class="context-reminder" onclick="focusInput('dreamNeedInput')">?</span>, ou até pra <strong style="color:var(--warning)">curtir mais um hobby</strong> <span class="context-reminder" onclick="focusInput('hobbyInput')">?</span>, talvez?</p>
                      <p class="action-reminder">⚠️ **OUÇA ATENTAMENTE:** Qual a principal motivação? Use-a como âncora.</p>
                     <p><em>PROSPECT: (Responde focando em uma área...)</em></p>

                      <!-- Checklists Opcionais -->
                      <div class="script-note">
                          <strong style="color: var(--accent)">Checklist Rápido de Motivações Comuns (Clique para pré-preencher no Painel):</strong>
                          <ul class="checklist">
                              <li onclick="updateContextFromChecklist(this, 'dreamNeedInput', 'Viajar Sozinha para [Destino]')"><input type="checkbox"> 🗺️ IR VIAJAR SOZINHA</li>
                              <li onclick="updateContextFromChecklist(this, 'dreamNeedInput', 'Levar a família para a Disney')"><input type="checkbox"> 🏰 IR PARA A DISNEY</li>
                              <li onclick="updateContextFromChecklist(this, 'mainPainInput', 'Aumentar minha renda / Ter mais oportunidades')"><input type="checkbox"> 💰 GANHAR MAIS DINHEIRO</li>
                               <li onclick="updateContextFromChecklist(this, 'mainPainInput', 'Falar inglês com confiança e sem travar')"><input type="checkbox"> 🗣️ TER CONFIANÇA EM FALAR</li>
                               <li onclick="updateContextFromChecklist(this, 'dreamNeedInput', 'Entender filmes/séries sem legenda')"><input type="checkbox"> 🎬 ENTENDER UM FILME/SERIE</li>
                               <li onclick="updateContextFromChecklist(this, 'dreamNeedInput', 'Entender minhas músicas favoritas')"><input type="checkbox"> 🎵 OUVIR UMA MÚSICA</li>
                              <!-- Adicionar outros itens relevantes -->
                          </ul>
                      </div>

                      <p><strong style="color: var(--secondary)">[<span class="neuro-hack" data-tooltip="Aprofundar no 'Como' e no 'Onde' dentro da área principal.">Detalhar a Necessidade na Área Principal</span>]</strong></p>
                     <p><strong>Felipe Fala:</strong> [<span class="neuro-hack" data-tooltip="Use a resposta anterior dele para mostrar que estava ouvindo. Ex: 'Legal você ter mencionado Trabalho!'">Aprofunda na área mencionada</span>] Ah, legal! <strong class="voice-emphasis">E no trabalho, qual sua área mesmo?</strong> [Ou "Que demais essa viagem pra <span data-fill="dreamNeedInput">[Sonho Principal]</span>!"] <strong class="voice-emphasis">Nessa área/situação, como <span class="neuro-hack" data-tooltip="'Exatamente' pede especificidade.">exatamente</span> o inglês te ajudaria no <span class="neuro-hack" data-tooltip="'Dia a dia' torna a necessidade mais concreta.">dia a dia</span>?</strong></p>
                      <p class="action-reminder">⚠️ **OUÇA:** Procure por tarefas específicas. Ex: "Fazer apresentações", "Responder emails", "Pedir comida no restaurante".</p>
                      <p><em>PROSPECT: (Responde com detalhes)</em></p>

                    <p class="action-reminder">[Transição SUAVE para Hobby, se aplicável]</p>
                    <p><strong>Felipe Fala:</strong> Bacana! E fora essa parte [<span data-fill="jobAreaInput" class="neuro-hack" data-tooltip="Confirma o contexto principal">[do trabalho]</span>/<span data-fill="dreamNeedInput">[da viagem]</span>], <strong class="voice-emphasis">pra relaxar, o que você curte fazer?</strong> É mais de série, música, game? <span class="context-reminder" onclick="focusInput('hobbyInput')">Capturar Hobby</span></p>
                    <p><em>PROSPECT: (Responde sobre Hobby)</em></p>
                    <p><strong>Felipe Fala:</strong> Legal! E [<span data-fill="hobby">[Série/Música/Game]</span>], você geralmente <strong class="voice-emphasis">consome em português ou já encara no inglês?</strong></p>


                     <hr style="border-color: var(--border-color);">
                     <p><strong style="color: var(--accent); font-size: 1.1em;">(P - Problema):</strong> <span class="neuro-hack" data-tooltip="AGORA vamos focar na DOR. Use perguntas abertas que explorem a dificuldade.">?</span></p>
                      <!-- Variações da Pergunta P -->
                      <div class="script-note" style="border-color: var(--accent);">
                          <strong style="color: var(--accent)"> Escolha UMA abordagem para descobrir o PROBLEMA CENTRAL:</strong><br>
                           <span class="action-reminder">Lembre-se de conectar com a área principal que ele mencionou! (<span data-fill="jobAreaInput">[Área Principal]</span> / <span data-fill="dreamNeedInput">[Sonho Principal]</span>)</span>
                          <ul style="padding-left: 15px; list-style: '👉 '; line-height: 1.8;">
                              <li><strong style="color: var(--primary)">Direta:</strong> "Então, pensando nisso [<span class="placeholder-filled">Contexto</span>], qual é a <span class="voice-emphasis">*principal dificuldade*</span> / <span class="voice-emphasis">*maior desafio*</span> que você encontra <span class="voice-emphasis">HOJE</span> por causa do inglês?" <span class="context-reminder" onclick="focusInput('mainPainInput')">✍️ Dor</span></li>
                              <li><strong style="color: var(--secondary)">Emocional:</strong> "E nessa situação [<span class="placeholder-filled">Contexto</span>], o que mais te <span class="voice-emphasis">*frustra*</span> / te deixa <span class="voice-emphasis">*incomodado(a)*</span> / te <span class="voice-emphasis">*trava*</span> por não ter o inglês na ponta da língua? Tem algo específico que acontece que te deixa pensando '<span class="neuro-hack" data-tooltip="Ajuda a pessoa a acessar uma memória específica">poxa, se eu falasse inglês...</span>'?" <span class="context-reminder" onclick="focusInput('mainPainInput')">✍️ Dor</span></li>
                              <li><strong style="color: var(--warning)">Prática:</strong> "Na prática, lá em [<span class="placeholder-filled">Contexto</span>], o que a falta de inglês te <span class="voice-emphasis">*impede*</span> de fazer ou faz com que seja <span class="voice-emphasis">*mais difícil*</span>? Qual a maior <span class="neuro-hack" data-tooltip="Metáfora visual de obstáculo">barreira</span> que você vê?" <span class="context-reminder" onclick="focusInput('mainPainInput')">✍️ Dor</span></li>
                          </ul>
                      </div>
                     <p><em>PROSPECT: (Responde sobre a dificuldade/problema)</em></p>
                      <p class="action-reminder">⚠️ **ANOTE a Dor Principal no Painel!** Use as palavras exatas do cliente se possível!</p>


                     <hr style="border-color: var(--border-color);">
                     <p><strong style="color: var(--warning); font-size: 1.1em;">(I - Implicação):</strong> <span class="neuro-hack" data-tooltip="EXPLORE AS CONSEQUÊNCIAS da dor. Perguntas curtas e impactantes. Deixe o prospect conectar os pontos.">?</span></p>
                     <p><strong>Felipe Fala:</strong> Puxa, imagino... E essa dificuldade de [<span data-fill="mainPain" class="neuro-hack" data-tooltip="Repetir a dor nas palavras dele aumenta o impacto">[Problema Principal]</span>], <strong class="voice-emphasis">como você se <span class="neuro-hack" data-tooltip="Pergunta direta sobre o estado emocional associado à dor.">SENTE</span> quando isso acontece?</strong> (<span class="neuro-hack" data-tooltip="Ajuda a nomear a emoção.">Inseguro(a)? Limitado(a)? Frustrado(a)? Ansioso(a)?</span>)</p>
                     <p><em>PROSPECT: (Responde sobre o sentimento)</em></p>
                      <p class="action-reminder">⚠️ **OUÇA E VALIDE:** "Nossa, imagino que se sentir [<span class="placeholder-filled">Sentimento</span>] não seja nada legal..."</p>

                     <p><strong>Felipe Fala:</strong> E <span class="neuro-hack" data-tooltip="Conecta a emoção à consequência tangível.">além de se sentir assim</span>, qual o <strong class="voice-emphasis">*impacto prático*</span> disso na sua vida / no seu trabalho? Qual o <strong class="voice-emphasis">*custo real*</span> disso pra você? <span class="neuro-hack" data-tooltip="Use exemplos relacionados ao contexto dele.">Já te fez <strong class="voice-emphasis">perder…</strong> (Oportunidade? Dinheiro? Tempo? Conexão? Uma experiência importante?)</span> <span class="context-reminder" onclick="focusInput('implicationInput')">Capturar Implicação</span></p>
                     <p><em>PROSPECT: (Responde sobre a consequência/custo)</em></p>
                      <p class="action-reminder">⚠️ **ANOTE o Impacto no Painel!** "Entendi, então por causa de [<span data-fill="mainPain">[Problema Principal]</span>], você acabou [<span data-fill="implication">[Impacto da Implicação]</span>]. Faz sentido?"</p>

                     <p class="action-reminder">🔮 [<span class="neuro-hack" data-tooltip="Projeção futura da dor. Aumenta a urgência e conecta com objetivos de longo prazo.">Amplifica Dor + Conecta Sonho/Hobby</span>]</p>
                     <p><strong>Felipe Fala:</strong> <strong class="voice-emphasis">E se nada mudar, <span data-fill="prospectName">[Nome]</span>, como você *imagina* que isso [<span data-fill="mainPain">[Problema Principal]</span>] pode te atrapalhar <span class="neuro-hack" data-tooltip="Usa palavras com conotação negativa forte.">lá na frente</span>? Pode te <span class="voice-emphasis">impedir</span> de realizar [<span data-fill="dreamNeedInput">[Sonho Principal]</span>] ou de curtir mais [<span data-fill="hobbyInput">[Hobby]</span>]? Qual o <span class="voice-emphasis neuro-hack" data-tooltip="'Risco' ativa a aversão à perda.">risco</span> de continuar assim?</strong></p>
                     <p class="action-reminder">⏸️🤫 [<span class="neuro-hack" data-tooltip="O silêncio aqui é CRUCIAL. Deixe o prospect refletir sobre as consequências futuras. Não interrompa!">PAUSA ESTRATÉGICA LONGA - 3-5 SEGUNDOS</span>]</p>

                     <!-- Dica Ativa Baseada na Implicação -->
                     <div id="implicationGuidance" class="active-guidance-tip" style="display: none;">
                         💡 **Use esta Consequência!** Lembre-se que <span data-fill="prospectName">[Nome]</span> disse que o problema já causou "<strong><span data-fill="implication">[Impacto da Implicação]</span></strong>". Conecte a solução a evitar que isso piore ou aconteça de novo!
                     </div>


                     <hr style="border-color: var(--border-color);">
                     <p><strong style="color: var(--primary); font-size: 1.1em;">(N - Necessidade/Solução):</strong> <span class="neuro-hack" data-tooltip="TRANSFORME A DOR EM DESEJO! Pergunte sobre o cenário ideal, o alívio, o valor da solução. Foco no FUTURO POSITIVO.">?</span></p>
                      <p class="action-reminder">[<span class="neuro-hack" data-tooltip="Comece validando a dor e sentimento antes de pintar o quadro positivo.">Conecte diretamente com a DOR e o SENTIMENTO expressos</span>]</p>
                     <p><strong>Felipe Fala:</strong> Puxa, <span data-fill="prospectName">[Nome]</span>, entendo perfeitamente o peso dessa situação [<span data-fill="mainPain">[Problema Principal]</span>] e de se sentir [<span class="neuro-hack" data-tooltip="Use a palavra exata que ele usou para descrever o sentimento. Se não disse, use 'assim'.">Sentimento Expresso</span>]. Mas agora, <strong class="voice-emphasis">imagine o <span class="neuro-hack" data-tooltip="Contraste forte entre o problema e a solução idealizada.">exato oposto</span> acontecendo:</strong> [<span class="neuro-hack" data-tooltip="Descreva o cenário ideal relacionado à dor dele. Ex: 'Na próxima reunião, você expondo suas ideias claramente...' / 'Na sua viagem pra Disney, conversando com os personagens...'"><Descreva o Cenário Oposto à Dor Principal></span>].</p>
                      <p class="action-reminder">[<span class="neuro-hack" data-tooltip="Focar na sensação positiva que a solução trará.">Foco no SENTIMENTO de alívio/ganho</span>]</p>
                     <p><strong>Felipe Fala:</strong> <strong class="voice-emphasis">Qual seria a *<span class="neuro-hack" data-tooltip="'Sensação', 'sentimento', 'alívio', 'liberdade' - palavras que ativam o sistema límbico.">sensação</span>*</strong> de conseguir [<span class="neuro-hack" data-tooltip="Descreva o resultado positivo e desejado. Ex: 'participar ativamente', 'ser ouvido', 'aproveitar 100%'">Resultado Positivo Desejado</span>]? Seria um *alívio* / uma *liberdade* / *muito mais divertido* não sentir mais aquela [<span class="neuro-hack" data-tooltip="Relembre a emoção negativa que ele mencionou">Sentimento Negativo</span>]? </p>
                     <p><em>PROSPECT: (Responde sobre a sensação positiva - Ex: "Nossa, seria ótimo!", "Um alívio mesmo!")</em></p>
                      <p class="action-reminder">🔗 [<span class="neuro-hack" data-tooltip="Conecta o benefício direto (resolver a dor) com a realização do objetivo maior (o sonho).">Conecta o alívio da dor à realização do SONHO</span>]</p>
                     <p><strong>Felipe Fala:</strong> E pensando naquele seu <span class="neuro-hack" data-tooltip="Use a palavra 'objetivo' ou 'sonho', dependendo do que ele valorizou mais.">objetivo/sonho</span> de [<span data-fill="dreamNeedInput">[Sonho Principal]</span>], ter essa <span class="neuro-hack" data-tooltip="Posiciona o curso como uma 'ferramenta' que ele controla para alcançar o que quer.">ferramenta</span> de comunicação destravada / ter essa <span class="neuro-hack" data-tooltip="Ou como 'segurança', 'confiança', 'habilidade'.">segurança</span>, <strong class="voice-emphasis">o quão *<span class="neuro-hack" data-tooltip="Faz o prospect quantificar o valor da solução ANTES de saber o preço. Ancora o valor lá em cima.">importante</span>* ou *<span class="neuro-hack" data-tooltip="Faz o prospect quantificar o valor da solução ANTES de saber o preço. Ancora o valor lá em cima.">valioso</span>* isso seria pra você *<span class="voice-emphasis neuro-hack" data-tooltip="'Finalmente' implica que ele já tentou ou desejou isso antes.">finalmente</span>* alcançar [<span data-fill="dreamNeedInput">[Sonho Principal]</span>]?</strong></p>
                       <p class="action-reminder">⏸️ [PAUSA para o prospect verbalizar o valor - Ex: "Seria muito importante", "Faria toda a diferença"]</p>

                     <hr style="border-color: var(--border-color);">
                     <p><strong style="color: var(--secondary); font-size: 1.1em;">[<span class="neuro-hack" data-tooltip="Momento crucial de transição: O prospect já reconheceu a dor, as consequências e o valor da solução. Agora, você confirma se ele quer AGIR.">Confirma Prioridade - 1º Compromisso Forte</span>]</strong></p>
                     <p><strong>Felipe Fala:</strong> Ficou muito claro pra mim o quanto você **valoriza** [<span data-fill="dreamNeedInput">[Necessidade/Sonho Principal]</span>] e como [<span data-fill="mainPain">[Problema Principal]</span>] te **custa** [<span data-fill="implicationInput">[Impacto da Implicação]</span>]. <strong style="color: var(--warning)">Resolver isso <span class="voice-emphasis">*agora*</span>, <span data-fill="prospectName">[Nome]</span>, é uma <span class="voice-emphasis">prioridade</span> pra você?</strong> <span class="neuro-hack" data-tooltip="Pergunta direta e fechada. Precisa de um 'Sim' claro para prosseguir com força.">Sim ou Não?</span></p>

                     <div class="phase-nav decision-buttons">
                         <button class="yes-btn" onclick="handlePriorityResponse(true)">✅ Sim, é prioridade</button>
                         <button class="no-btn" onclick="handlePriorityResponse(false)">❌ Não é prioridade agora</button>
                     </div>

                     <!-- Rota B: Não é Prioridade -->
                      <div id="noPriorityPath" class="no-path">
                          <h4>📉 Rota B: Não é Prioridade Agora</h4>
                          <p><strong>Felipe Fala:</strong> Entendido, <span data-fill="prospectName">[Nome]</span>. Agradeço a sinceridade. Se não é uma prioridade pra você <span class="voice-emphasis">agora</span>, realmente não faz sentido a gente avançar. <span class="neuro-hack" data-tooltip="Respeita a decisão, mas mantém a porta aberta para o futuro ou para indicações.">Mas fico feliz que a gente pôde conversar e entender melhor sua situação.</span> Quem sabe mais pra frente, né?</p>
                          <p><strong>Felipe Fala:</strong> <span class="neuro-hack" data-tooltip="Pivot suave para o plano B: Referidos.">Já que o(a) <span data-fill="referrerName">[Nome do {nomeLead}]</span> lembrou de você com tanto carinho, talvez você conheça alguém para quem destravar o inglês *seja* uma prioridade agora...</span></p>
                          <p class="action-reminder">➡️ PIVOTAR PARA PEDIDO DE REFERIDOS (Fase 8)</p>
                          <button onclick="navigateToPhaseById('phase-8-referrals')">Pedir Indicações</button>
                           <button class="back-btn" style="margin-left: 10px;" onclick="endCallPolitely('Ok, então. Fico à disposição se mudar de ideia. Um abraço!')">Encerrar</button>
                      </div>

                     <!-- Continuação se Prioridade (Rota A) -->
                     <div id="priorityPath" style="display:none;">
                          <p class="script-note" style="border-color: var(--primary)">✅ Prioridade Confirmada!</p>
                         <p><strong>Felipe Fala:</strong> Excelente! <span class="action-reminder">[<span class="neuro-hack" data-tooltip="Reforço visual/auditivo antes do compromisso final para a decisão.">RELEMBRE RÁPIDO: DOR -> SONHO</span>]</span> Então, sabendo que as barreiras comuns são <strong style="color: var(--secondary)">tempo</strong>, <strong style="color: var(--danger)">grana</strong> ou <strong style="color: var(--warning)">método que não funciona</strong>... Se eu te mostrar agora um jeito <strong style="color: var(--primary)">prático</strong>, <strong style="color: var(--primary)">acessível</strong> e <strong style="color: var(--primary)">comprovado</strong>, pra *finalmente* te levar a [<span data-fill="dreamNeedInput">[Necessidade/Sonho Principal]</span>], <strong style="color: var(--warning)">você está <span class="neuro-hack" data-tooltip="'Aberto(a)' é menos ameaçador que 'pronto(a) pra comprar'.">aberto(a)</span> a dar esse passo e começar essa transformação <span class="voice-emphasis neuro-hack" data-tooltip="Reforça a urgência e a ação imediata.">HOJE</span>?</strong> <span style="color: var(--accent)">[<span class="neuro-hack" data-tooltip="Último teste de compromisso antes de entrar nos detalhes da solução e preço.">Pré-Compromisso Decisão Forte</span>]</span></p>
                           <p class="action-reminder">❓ AGUARDE O "SIM"</p>
                           <p><em>PROSPECT: Sim / Estou aberto(a) / Vamos ver...</em></p>
                          <div class="phase-nav">
                              <button class="back-btn" onclick="navigateToPhaseByIndex(1)">Voltar (Fase 1)</button>
                              <button onclick="navigateToPhaseByIndex(3)">✅ Sim! Avançar para Transição (Fase 3)</button>
                          </div>
                    </div><!-- Fim Priority Path -->
                 </div>
             </section>

            <!-- Fases 3 a 10 Completas (Seguindo o mesmo padrão) -->
             <section id="phase-3-transition" class="script-phase">
                 <div class="phase-timer" id="timer-phase-3-transition">0s</div>
                 <h3>
                    <div class="phase-title-content">
                         <span class="neuro-tag">🤝 3</span>
                         TRANSIÇÃO & "COMBINADO"
                     </div>
                    <div class="phase-timer" id="timer-phase-3-transition" title="Tempo gasto nesta fase">0s</div>
                 </h3>
                  <p style="font-size: 0.9em; color: var(--secondary); margin-top: -15px; margin-bottom: 20px;"><i>Objetivo: Alinhar Expectativas, Criar Contrato Psicológico Claro.</i></p>
                 <div class="script-text">
                      <p class="action-reminder">➡️ <span class="neuro-hack" data-tooltip="Mencionar a marca AGORA, depois de gerar valor e interesse">Reforça Marca</span></p>
                      <p><strong>Felipe Fala:</strong> Que bom que você está aberto(a), <span data-fill="prospectName">[Nome]</span>! Como o(a) <span data-fill="referrerName">[Nome do {nomeLead}]</span> já te adiantou, somos a <strong style="color:var(--primary); font-size: 1.1em;">Wise Up Online</strong>.</p>
                      <p><strong>Felipe Fala:</strong> E como essa indicação te trouxe uma <strong style="color:var(--accent)">condição realmente diferenciada</strong>, preciso ser <span class="neuro-hack" data-tooltip="Transparência gera confiança">direto e transparente</span> contigo, como profissional, ok? Essa condição especial tem <strong class="voice-emphasis"><span class="neuro-hack" data-tooltip="Justifica a urgência e a necessidade de decisão no dia">validade curta</span>, geralmente só para o dia da ligação</strong>. <span class="neuro-hack" data-tooltip="Reforça a escassez temporal ligada à indicação.">É um benefício pra quem decide rápido!</span></p>
                      <p class="script-note" style="border-color: var(--secondary);">✨ [<span class="neuro-hack" data-tooltip="Framework claro: 1. Mostro solução -> 2. Tiro dúvidas -> 3. Falo investimento -> 4. Você decide HOJE. Reduz ansiedade sobre o processo.">Exclusividade + Profissionalismo + Sem Pressão (aparente)</span>]</p>
                      <p><strong>Felipe Fala:</strong> Então, vou te mostrar como nossa plataforma foi desenhada pensando *exatamente* em quem, como você, tem [<span data-fill="mainPain" class="neuro-hack" data-tooltip="Repete a dor para conectar a solução">[Problema Principal]</span>] e quer muito [<span data-fill="dreamNeedInput" class="neuro-hack" data-tooltip="Repete o sonho para conectar a solução">[Necessidade/Sonho Principal]</span>]. Vou ser rápido e focado no que importa pra você. <span class="neuro-hack" data-tooltip="Define a sequência lógica da próxima etapa.">Tiro suas dúvidas e falo do investimento no final.</span> <strong class="voice-emphasis">Aí, com base em tudo, você avalia <span class="neuro-hack" data-tooltip="Coloca a decisão no controle do prospect, mas com a condição temporal.">se faz sentido pra *você*</span> aproveitar essa condição <span class="voice-emphasis">hoje</span> ou não.</strong> Tranquilo? **Podemos seguir assim?**</p>
                       <p class="action-reminder">❓ AGUARDE O "COMBINADO" / "OK" / "SIM"</p>
                      <p><em>PROSPECT: Combinado / Ok / Sim.</em></p>
                      <p class="script-note" style="border-color: var(--primary);">🔗 [<span class="neuro-hack" data-tooltip="Último micro-compromisso ANTES da apresentação. Vincula a decisão final à percepção de valor que será criada.">Conecta Decisão à Percepção de Valor</span>]</p>
                     <p><strong>Felipe Fala:</strong> Perfeito! E só pra confirmar nosso combinado: se ao final da apresentação **você *<span class="neuro-hack" data-tooltip="'Perceber' e 'sentir' são mais poderosos que 'achar' ou 'pensar'. Foca na intuição e emoção.">perceber</span>* / *sentir* que essa é a ferramenta certa** pra te ajudar a realizar [<span data-fill="dreamNeedInput">[Necessidade/Sonho Principal]</span>] e resolver de vez [<span data-fill="mainPain">[Problema Principal]</span>], já damos o start <span class="voice-emphasis">hoje mesmo</span> pra você não perder essa condição especial! Combinado?</p>
                      <p class="action-reminder">❓ AGUARDE O "COMBINADO" FINAL</p>
                      <p><em>PROSPECT: Combinado.</em></p>
                 </div>
                 <div class="phase-nav">
                     <button class="back-btn" onclick="navigateToPhaseByIndex(2)">Voltar (Fase 2)</button>
                     <button onclick="navigateToPhaseByIndex(4)">✅ Combinado! Avançar para Solução (Fase 4)</button>
                 </div>
             </section>

             <section id="phase-4-solution" class="script-phase">
                  <div class="phase-timer" id="timer-phase-4-solution">0s</div>
                 <h3>
                    <div class="phase-title-content">
                         <span class="neuro-tag">💡 4</span>
                         APRESENTAÇÃO DA SOLUÇÃO
                     </div>
                    <div class="phase-timer" id="timer-phase-4-solution" title="Tempo gasto nesta fase">0s</div>
                 </h3>
                  <p style="font-size: 0.9em; color: var(--secondary); margin-top: -15px; margin-bottom: 20px;"><i>Objetivo: Conectar Benefícios à Dor/Sonho Específico, usar Linguagem Sensorial e Exemplos Relevantes.</i></p>
                <div class="script-text">
                     <p class="action-reminder">🎯 [Princípio: Focar nos <span class="voice-emphasis">2 BENEFÍCIOS PRINCIPAIS</span> que mais resolvem a Dor/Sonho específico do <span data-fill="prospectName">[Nome]</span>. Ser CONCISO e ENVOLVENTE.]</p>
                    <p><strong>Felipe Fala:</strong> Perfeito, <span data-fill="prospectName">[Nome]</span>! Então, entendendo bem o seu objetivo de [<span data-fill="dreamNeedInput" class="placeholder-filled neuro-hack" data-tooltip="Repetir o sonho principal conecta a solução diretamente ao desejo dele.">[Necessidade/Sonho Principal]</span>] e a dificuldade com [<span data-fill="mainPain" class="placeholder-filled neuro-hack" data-tooltip="Repetir a dor principal mostra que você ouviu e a solução é para ISSO.">[Problema Principal]</span>], deixa eu te mostrar em <span class="neuro-hack" data-tooltip="Define um tempo curto para manter a atenção.">poucos minutos</span> *exatamente* como a Wise Up Online foi pensada pra resolver isso pra você.</p>

                    <p><strong>Felipe Fala:</strong> O grande diferencial nosso, <span class="neuro-hack" data-tooltip="Usar o nome dele aqui torna a explicação mais pessoal."> <span data-fill="prospectName">[Nome]</span></span>, são basicamente <span class="neuro-hack" data-tooltip="Regra de Três: Nosso cérebro processa melhor informações em grupos de 3 (ou 2, neste caso).">duas coisas</span> que atacam direto o que a gente conversou:</p>

                     <div class="script-note" style="border-color: var(--primary);">
                         <p><strong style="color:var(--primary); font-size: 1.1em;">1️⃣ FLEXIBILIDADE TOTAL:</strong> <span style="color:var(--secondary)">[<span class="neuro-hack" data-tooltip="Benefício quase universal, especialmente se a dor 'falta de tempo' surgiu.">Resolve a Dor do Tempo/Rotina</span>]</span></p>
                        <p><strong>Felipe Fala:</strong> Lembra que falamos sobre [<span data-fill="mainPain" style="color: var(--danger); font-weight:bold;" class="neuro-hack" data-tooltip="Conexão direta com a dor dele. Se a dor não foi tempo, adapte para 'a correria do dia a dia'">[Dor de Tempo/Rotina]</span>]? Com a Wise Up Online, <span class="voice-emphasis">não tem mais essa desculpa!</span> <span class="neuro-hack" data-tooltip="Tom de voz entusiasmado transmite paixão e confiança na solução.">[ENTUSIASMO!]</span> É **24 horas por dia, 7 dias por semana, no <span class="neuro-hack" data-tooltip="Proximidade física (celular está sempre com ele) torna o acesso mais real.">seu celular</span>, no tablet, no computador... e funciona até <span class="neuro-hack" data-tooltip="Quebra uma grande barreira de plataformas online.">SEM INTERNET</span>** pra você baixar as aulas e estudar onde quiser!</p>
                         <p><strong>Felipe Fala:</strong> São aulas <span class="neuro-hack" data-tooltip="Microlearning: Ideal para encaixar em rotinas ocupadas e mantém o engajamento (TDAH friendly).">curtinhas, de 15 a 30 minutos</span>, focadas, pra você encaixar <span class="voice-emphasis">ONDE e QUANDO PUDER</span> – no ônibus, na hora do almoço, antes de dormir... <span class="neuro-hack" data-tooltip="Pergunta de visualização focada no SENTIMENTO de ganho.">*Imagina ter essa <span style="color: var(--primary)">LIBERDADE</span> pra finalmente destravar o inglês <span style="color: var(--danger)">sem atrapalhar seu dia</span>?*</span> <strong style="color:var(--warning)">Isso resolve aquela questão da correria pra você, certo?</strong> <span style="color:var(--accent)">[<span class="neuro-hack" data-tooltip="Micro-pergunta de confirmação para manter o engajamento e garantir que o benefício foi entendido.">Micro-Interação de Confirmação</span>]</span></p>
                     </div>

                     <div class="script-note" style="border-color: var(--secondary);">
                         <p><strong style="color:var(--secondary); font-size: 1.1em;">2️⃣ MÉTODO PRÁTICO (FOCO NA VIDA REAL):</strong> <span style="color:var(--secondary)">[<span class="neuro-hack" data-tooltip="Escolher o benefício que MAIS se conecta com o Sonho/Necessidade dele.">Benefício Chave Adaptado ao SONHO</span>]</span></p>
                        <p><strong>Felipe Fala:</strong> <span class="voice-emphasis">[<span class="neuro-hack" data-tooltip="Use palavras que evocam imagens e sensações: 'mergulhar', 'sentir', 'ouvir', 'viver'.">LINGUAGEM SENSORIAL!</span>]</span> E o mais legal pra você que quer [<span data-fill="dreamNeedInput" style="color: var(--primary); font-weight:bold;">[Necessidade/Sonho Principal]</span>], é que nosso método <span class="voice-emphasis">esquece a decoreba</span> e aquela gramática chata de escola! Aqui você <strong style="color: var(--primary)">*aprende VIVENDO*</strong> situações reais do dia a dia.</p>
                         <p><strong>Felipe Fala:</strong> Usamos <span class="neuro-hack" data-tooltip="Qualidade cinematográfica aumenta o valor percebido e engajamento.">vídeos curtos, tipo série de TV</span>, gravados nos Estados Unidos, mostrando como o inglês é <span class="voice-emphasis">usado de verdade</span> lá fora.</p>
                         <p class="action-reminder">🎯 [Use o exemplo ABAIXO que MAIS se conecta com o <span data-fill="dreamNeedInput">SONHO</span> ou <span data-fill="hobbyInput">HOBBY</span> dele!]</p>
                         <ul style="padding-left: 20px; list-style: none;">
                             <li id="example-viagem" style="display:block;"> {/* Exemplo Viagem - Mostrar/Esconder por JS depois */}
                                 <p><strong style="color:var(--accent)">✈️ FOCO VIAGEM:</strong> "Pra realizar seu sonho de [<span data-fill="dreamNeedInput">[Viagem Dele]</span>], você vai <strong style="color: var(--primary)">*treinar na prática*</strong> <span class="neuro-hack" data-tooltip="Especificidade: Dar exemplos concretos torna o benefício tangível.">como pedir um café em Nova York, como fazer check-in num hotel em Londres, como se virar no aeroporto...</span> tudo pra chegar lá <strong style="color: var(--primary)">*sentindo*</strong> <span class="voice-emphasis">segurança</span> e podendo curtir CADA momento <span class="neuro-hack" data-tooltip="Foco no resultado final desejado.">sem perrengue</span>!"</p>
                             </li>
                             <li id="example-trabalho" style="display:block;"> {/* Exemplo Trabalho */}
                                  <p><strong style="color:var(--secondary)">💼 FOCO TRABALHO:</strong> "Pra buscar [<span data-fill="dreamNeedInput">[Objetivo Profissional Dele]</span>] na sua área de <span data-fill="jobAreaInput">[Área de Trabalho]</span>, você vai <strong style="color: var(--primary)">*praticar*</strong> o vocabulário que <span class="voice-emphasis">realmente importa</span>: <span class="neuro-hack" data-tooltip="Especificidade: Exemplos relevantes para o mundo corporativo.">participar de reuniões, fazer apresentações, negociar, escrever emails...</span> pra você <strong style="color: var(--primary)">*sentir*</strong> <span class="voice-emphasis">confiança</span> na hora H e conseguir <span class="neuro-hack" data-tooltip="Foco no resultado final desejado.">se destacar e agarrar aquelas oportunidades</span>!"</p>
                             </li>
                             <li id="example-hobby" style="display:block;"> {/* Exemplo Hobby */}
                                  <p><strong style="color:var(--warning)">🎧🎬 FOCO HOBBY:</strong> "E pra curtir mais [<span data-fill="hobbyInput">[Série/Música/Game Dele]</span>], você vai <strong style="color: var(--primary)">*treinar tanto o ouvido*</strong> com sotaques diferentes e <span class="neuro-hack" data-tooltip="Benefício direto e desejado por muitos.">expressões do dia a dia</span> que logo vai estar <strong style="color: var(--primary)">*entendendo tudo*</strong> sem precisar de legenda ou tradução, aproveitando <span class="voice-emphasis">100%</span> do que você mais gosta!"</p>
                             </li>
                         </ul>
                        <p><strong>Felipe Fala:</strong> É um jeito muito mais <strong style="color: var(--secondary)">moderno</strong>, <strong style="color: var(--secondary)">rápido</strong> e <strong style="color: var(--secondary)">direto ao ponto</strong> pra você realmente <strong style="color: var(--primary)">*USAR*</strong> o inglês no que importa pra *você*. <strong style="color:var(--warning)">Não parece bem mais eficaz e <span class="neuro-hack" data-tooltip="Conecta com a possível frustração de métodos anteriores.">menos frustrante</span> do que os métodos tradicionais que você talvez já tenha tentado?</strong> <span style="color:var(--accent)">[<span class="neuro-hack" data-tooltip="Contraste com o 'velho jeito' + Pergunta retórica que busca concordância.">Contraste + Pergunta Engajadora</span>]</span></p>
                     </div>

                      <p class="script-note">🧩 **Estrutura Completa:** E claro, tudo isso vem com:
                         <ul style="padding-left: 15px; list-style: '✔️ ';">
                              <li><strong>Material de Apoio:</strong> PDF com vocabulário e gramática essencial de cada aula.</li>
                              <li><strong>Exercícios Interativos:</strong> Pra praticar escrita e compreensão.</li>
                              <li><strong>Prática de Fala:</strong> Ferramenta de reconhecimento de voz pra treinar pronúncia. <span class="neuro-hack" data-tooltip="Resolve a dor comum de 'não ter com quem praticar'.">🤖</span></li>
                              <li><strong>Certificado Profissional:</strong> Reconhecido no mercado pra turbinar seu currículo. 📄</li>
                          </ul>
                     </p>
                </div>
                <div class="phase-nav">
                    <button class="back-btn" onclick="navigateToPhaseByIndex(3)">Voltar (Fase 3)</button>
                    <button onclick="navigateToPhaseByIndex(5)">Entendido! Avançar para Pré-Fechamento (Fase 5)</button>
                </div>
            </section>

            <section id="phase-5-preclosing" class="script-phase">
                 <div class="phase-timer" id="timer-phase-5-preclosing">0s</div>
                 <h3>
                    <div class="phase-title-content">
                         <span class="neuro-tag">✅ 5</span>
                         PRÉ-FECHAMENTO & PROVA SOCIAL
                     </div>
                    <div class="phase-timer" id="timer-phase-5-preclosing" title="Tempo gasto nesta fase">0s</div>
                 </h3>
                  <p style="font-size: 0.9em; color: var(--secondary); margin-top: -15px; margin-bottom: 20px;"><i>Objetivo: Confirmar Percepção de Valor, Usar Prova Social Relevante, Obter Último 'Sim'.</i></p>
                <div class="script-text">
                     <p class="action-reminder">🔁 [<span class="neuro-hack" data-tooltip="Resumo rápido BENEFÍCIO -> DOR -> SONHO. Cria um 'pacote de valor' mental antes do preço.">RECAPITULE O VALOR!</span>]</p>
                     <p><strong>Felipe Fala:</strong> Então, <span data-fill="prospectName">[Nome]</span>, resumindo: aprender inglês desse jeito <strong style="color:var(--primary)">flexível</strong> pra sua rotina (<span class="neuro-hack" data-tooltip="Benefício 1">sem desculpas!</span>), com um método <strong style="color:var(--primary)">prático</strong> e focado no seu objetivo de [<span data-fill="dreamNeedInput" class="neuro-hack" data-tooltip="Sonho/Necessidade">[Necessidade Principal]</span>], e <strong style="color:var(--primary)">resolvendo</strong> aquela dificuldade com [<span data-fill="mainPain" class="neuro-hack" data-tooltip="Dor/Problema">[Problema Principal]</span>]... <strong class="voice-emphasis">Isso <span class="neuro-hack" data-tooltip="'Faz sentido' é uma pergunta leve que busca validação lógica e emocional.">*faz sentido*</span> pra você como a <span class="neuro-hack" data-tooltip="Posiciona como a 'solução ideal', não apenas 'uma' solução.">solução ideal</span> que o(a) <span data-fill="referrerName" class="neuro-hack" data-tooltip="Traz a validação social do indicador de volta.">[Nome do {nomeLead}]</span> imaginou pra te ajudar?</strong> <span style="color:var(--accent)">[<span class="neuro-hack" data-tooltip="Segundo 'sim' crucial. Confirma que a solução apresentada foi percebida como VALIOSA.">Trial Close Solução + Reforça Indicação - 2º Compromisso</span>]</span></p>
                     <p class="action-reminder">❓ AGUARDE O "SIM" CLARO</p>
                    <p><em>PROSPECT: Sim, faz sentido.</em></p>

                     <p class="action-reminder">⭐ [<span class="neuro-hack" data-tooltip="Prova social é mais poderosa quando RELEVANTE para o prospect. Use os dados do painel!">PROVA SOCIAL RELEVANTE!</span>]</p>
                     <p><strong>Felipe Fala:</strong> Que ótimo! **Sabe, temos muitos alunos que *chegaram aqui indicados*, se sentindo <span class="neuro-hack" data-tooltip="Cria empatia mostrando que outros passaram pelo mesmo.">exatamente como você</span> sobre [<span data-fill="mainPain" class="neuro-hack" data-tooltip="Menciona a DOR dele">[Dor similar]</span>] <span id="similarProfile" style="display:none;" class="neuro-hack" data-tooltip="Use a Área ou Hobby do painel! Ex: '...também da área de TI...' / '...que também ama viajar...'">(inclusive alguns <span data-fill="jobArea">[Perfil similar]</span>)</span>. E hoje, usando exatamente essa plataforma, já conseguiram [<span id="keyResult" class="neuro-hack" data-tooltip="Use um resultado conectado ao SONHO dele! Ex: 'fazer aquela viagem pra Europa', 'conquistar a promoção', 'entender as séries favoritas'">[Resultado chave concreto e inspirador]</span>].** <span class="neuro-hack" data-tooltip="Mostra que o resultado é possível e o método funciona.">Mostra que realmente funciona pra quem aproveita a oportunidade!</span> <span style="color:var(--primary)">[Prova Social + Valida Indicação]</span></p>

                     <p class="action-reminder">🎯 [<span class="neuro-hack" data-tooltip="A 'amarração' final antes do preço. Pergunta de alto compromisso.">Trial Close Final - 3º Compromisso</span>]</p>
                     <p><strong>Felipe Fala:</strong> Então, pra gente fechar nosso raciocínio, <span data-fill="prospectName">[Nome]</span>: **se o <span class="neuro-hack" data-tooltip="Introduz a palavra 'investimento' de forma suave.">investimento</span> estiver <span class="neuro-hack" data-tooltip="Condiciona a decisão ao alinhamento financeiro, tirando o peso do 'sim' absoluto.">alinhado</span> com todo o <span class="neuro-hack" data-tooltip="Reforça o VALOR construído nas etapas anteriores.">valor</span> que você viu aqui hoje**, podemos dizer que encontramos o caminho pra você deixar pra trás [<span data-fill="mainPain">[Problema Principal]</span>] e ir buscar de vez [<span data-fill="dreamNeedInput">[Necessidade/Sonho Principal]</span>]? <strong class="voice-emphasis"><span class="neuro-hack" data-tooltip="Pergunta final de concordância antes do preço.">Temos um acordo pra começar essa transformação?</span></strong></p>
                     <p class="action-reminder">❓ AGUARDE O "SIM" ou "DEPENDE DO VALOR"</p>
                    <p><em>PROSPECT: Sim / Depende do valor.</em></p>
                </div>
                 <div class="phase-nav">
                     <button class="back-btn" onclick="navigateToPhaseByIndex(4)">Voltar (Fase 4)</button>
                     <button onclick="navigateToPhaseByIndex(6)">✅ Sim! Avançar para Fechamento (Fase 6)</button>
                 </div>
            </section>

            <section id="phase-6-closing" class="script-phase">
                  <div class="phase-timer" id="timer-phase-6-closing">0s</div>
                 <h3>
                    <div class="phase-title-content">
                         <span class="neuro-tag" style="background: var(--warning); color: #000;">💰 6</span>
                         FECHAMENTO
                     </div>
                    <div class="phase-timer" id="timer-phase-6-closing" title="Tempo gasto nesta fase">0s</div>
                 </h3>
                  <p style="font-size: 0.9em; color: var(--secondary); margin-top: -15px; margin-bottom: 20px;"><i>Objetivo: Apresentar Preço Ancorado no Valor, Oferecer Opções, Tratar Objeções com Neuro-Respostas.</i></p>
                <div class="script-text">
                     <p><strong>Felipe Fala:</strong> <span class="action-reminder">⚓ [<span class="neuro-hack" data-tooltip="Comparar com algo 'geralmente alto' faz sua oferta parecer melhor. Ex: 'Curso presencial bom custa X...' ou 'Quanto vale realizar [Sonho Principal]?'.">ANCORAGEM DE PREÇO</span>]</span> Maravilha, <span data-fill="prospectName">[Nome]</span>! A gente sabe que um investimento em inglês de qualidade, que realmente <span class="neuro-hack" data-tooltip="Reforça o resultado desejado.">destrava</span> a pessoa, geralmente não é barato, concorda?... <span class="action-reminder">[PAUSA CURTA]</span></p>
                     <p><strong>Felipe Fala:</strong> <strong style="color:var(--primary)">MAS...</strong> <span class="neuro-hack" data-tooltip="Usar 'MAS' cria um contraste positivo.">a <strong style="color:var(--accent)">condição SUPER especial</strong></span> pra você, <span class="neuro-hack" data-tooltip="REFORÇAR SEMPRE a origem do benefício.">por ter sido indicado(a) pelo(a) <span data-fill="referrerName">[Nome do {nomeLead}]</span> (e só hoje!)</span>, é o acesso <strong class="voice-emphasis neuro-hack" data-tooltip="Benefício de longo prazo MUITO forte.">VITALÍCIO (isso mesmo, pra VIDA TODA!)</strong> à plataforma completa da Wise Up Online por apenas...</p>
                      <p style="text-align: center; margin: 10px 0;">
                         <strong style="color:var(--primary); font-size: 1.8em; display: block; margin: 5px 0;">R$ 266 por mês</strong>
                         <span style="font-size: 0.9em; color: var(--placeholder-color);">(Pagos só durante o primeiro ano. Sem pegadinha!)</span>
                      </p>
                     <p><strong>Felipe Fala:</strong> Ou seja, você investe por 12 meses e depois <strong class="voice-emphasis">o acesso é seu PRA SEMPRE</strong>, sem mais nenhuma mensalidade, pra continuar estudando e atualizando seu inglês quando quiser! <span style="color:var(--primary)">[<span class="neuro-hack" data-tooltip="Enfatiza o benefício principal (Vitalício) e a clareza da oferta.">Oferta Vitalícia + Conecta à Indicação + Clareza Total</span>]</span></p>
                    <p class="action-reminder">🤫 [<span class="neuro-hack" data-tooltip="CRUCIAL! Apresente o preço com confiança e CALA-SE. Deixe o prospect absorver e reagir. Não justifique antes da hora.">SILÊNCIO ESTRATÉGICO (3-5 segundos)</span>] | 👀 [<span class="neuro-hack" data-tooltip="Ouça o TOM de voz, as palavras, a hesitação. A reação dele dita o próximo passo.">LEIA A REAÇÃO</span>]</p>

                    <hr style="border-color: var(--border-color);">

                    <div class="objection-handler">
                         <p><strong style="color: var(--secondary)">--- COMO <span data-fill="prospectName">[Nome]</span> REAGIU AO PREÇO? ---</strong></p>
                         <button class="yes-btn" onclick="handleAcceptance()">✅ ACEITAÇÃO / DÚVIDA LEVE ("Ok", "Gostei", "Como funciona o pgto?")</button>
                         <button style="background: var(--warning); color: #000;" onclick="showObjectionOptions()">⚠️ OBJEÇÕES ("Caro", "Vou pensar", "Não tenho tempo agora", "Online não...")</button>
                     </div>

                     <!-- Caminho da Aceitação -->
                     <div id="acceptancePath" style="display:none; margin-top: 20px; border: 1px solid var(--primary); padding: 20px; border-radius: 8px; background: var(--highlight-bg)">
                         <p><strong>Felipe Fala:</strong> Excelente, <span data-fill="prospectName">[Nome]</span>! Fico feliz que tenha visto valor! <span class="neuro-hack" data-tooltip="Última confirmação antes de pegar os dados.">**Esse valor faz sentido pra você aproveitar essa condição <span class="voice-emphasis">única de indicação</span> HOJE e começar <span class="voice-emphasis">agora mesmo</span> a realizar [<span data-fill="dreamNeedInput">[Sonho Principal]</span>]?**</span> <span style="color:var(--accent)">[Confirmação Final]</span></p>
                         <p><em>PROSPECT: Sim, faz sentido.</em></p>
                         <p><strong>Felipe Fala:</strong> Fantástico! Decisão inteligente! Pra gente já liberar seu acesso e você começar hoje, <span class="neuro-hack" data-tooltip="Oferecer ajuda no preenchimento reduz o atrito final.">quer que eu preencha o cadastro rapidinho aqui pra você?</span> Preciso só do seu nome completo, email e CPF...</p>
                         <p class="action-reminder">➡️ Seguir para coleta de dados e pagamento. Depois, ir para Fase 7 (Upsell).</p>
                          <button onclick="navigateToPhaseByIndex(7)" style="background: var(--primary); color:#000; margin-top: 10px;">🎉 Pagamento OK! Prosseguir para Upsell (Fase 7)</button>
                     </div>

                     <!-- Caminho das Objeções -->
                     <div id="objectionOptions" style="display:none; margin-top: 20px;">
                          <p><strong style="color: var(--warning)">--- ⚠️ SELECIONE A OBJEÇÃO PRINCIPAL PARA VER A NEURO-RESPOSTA ---</strong></p>
                          <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 15px;">
                              <button onclick="showObjectionResponse('caro')">💸 "Caro" / "Sem Dinheiro"</button>
                              <button onclick="showObjectionResponse('depois')">🤔 "Vou Pensar" / "Depois" / "Sem Tempo"</button>
                              <button onclick="showObjectionResponse('online')">💻 "Online não é pra mim" / "Difícil"</button>
                               <button onclick="showObjectionResponse('concorrente')">🆚 "Concorrente é mais barato"</button>
                               <button onclick="showObjectionResponse('funciona')">❓ "Será que funciona pra mim?"</button>
                           </div>
                          <div id="objectionResponseArea">
                               <p style="color: var(--placeholder-color); text-align: center;">👆 Clique na objeção para ver a estratégia de resposta.</p>
                          </div>
                           <button id="objectionResolvedButton" onclick="tryClosingAgain()" style="background: var(--primary); color:#000; margin-top: 15px; display: none;">✅ Objeção Entendida! Tentar Fechar Novamente</button>
                     </div>
                </div>
                 <div class="phase-nav">
                     <button class="back-btn" onclick="navigateToPhaseByIndex(5)">Voltar (Fase 5)</button>
                     <span><!-- Botão de avançar controlado pela lógica interna (Aceitação ou Objeção Resolvida) --></span>
                 </div>
            </section>

            <section id="phase-7-upsell" class="script-phase">
                   <div class="phase-timer" id="timer-phase-7-upsell">0s</div>
                 <h3>
                    <div class="phase-title-content">
                         <span class="neuro-tag" style="background: var(--primary); color: #000;">✨ 7</span>
                         UPSELL WISE UP LIVE (Opcional)
                     </div>
                    <div class="phase-timer" id="timer-phase-7-upsell" title="Tempo gasto nesta fase">0s</div>
                 </h3>
                  <p style="font-size: 0.9em; color: var(--secondary); margin-top: -15px; margin-bottom: 20px;"><i>Objetivo: Oferecer Valor Adicional de Forma Opcional e Rápida.</i></p>
                 <div class="script-text">
                      <p class="action-reminder">🎉 [<span class="neuro-hack" data-tooltip="Sempre celebre a decisão do cliente ANTES de oferecer algo a mais.">CELEBRE A VENDA PRIMEIRO!</span>]</p>
                      <p><strong>Felipe Fala:</strong> <strong class="voice-emphasis">PARABÉNS <span style="text-transform: none;">pela excelente decisão</span>, <span data-fill="prospectName">[Nome]</span>!</strong> <span class="neuro-hack" data-tooltip="Reforço positivo da compra.">Seja muito bem-vindo(a) à Wise Up Online!</span> Tenho certeza que vai ser incrível pra você finalmente alcançar [<span data-fill="dreamNeedInput">[Sonho Principal]</span>]!</p>
                      <p><strong>Felipe Fala:</strong> <span class="neuro-hack" data-tooltip="Frame de 'dica' ou 'sugestão rápida' é menos vendedor.">Olha, uma dica rápida</span> pra quem quer destravar a <span class="voice-emphasis">fala</span> e a <span class="voice-emphasis">conversação</span> mais rápido ainda: nós temos a <strong style="color:var(--secondary)">Wise Up Live</strong>. <span class="neuro-hack" data-tooltip="Descrição concisa e focada no benefício principal (conversação).">São aulas de conversação AO VIVO, com professor e turma reduzida</span>, pra você praticar <span class="voice-emphasis">mesmo</span>. Pensa num <span class="neuro-hack" data-tooltip="Analogia fácil de entender e que agrega valor.">personal trainer, só que pro seu inglês</span>.</p>
                      <p><strong>Felipe Fala:</strong> <strong class="voice-emphasis">Você gostaria de saber mais sobre como <span style="color: var(--primary)">turbinar sua conversação</span> com o Live, ou prefere seguir <span style="text-transform: none;">agora</span> só com a plataforma completa que você já garantiu?</strong> <span style="color:var(--accent)">[<span class="neuro-hack" data-tooltip="Pergunta fechada (Sim/Não), dando controle ao cliente e sem pressão.">Upsell Opcional - Baixa Pressão</span>]</span></p>
                      <p class="action-reminder">❓ AGUARDE A RESPOSTA. Se sim, explique brevemente e ofereça. Se não, siga para Referidos.</p>
                 </div>
                  <div class="phase-nav">
                      <button class="back-btn" onclick="navigateToPhaseByIndex(6)">Voltar (Fase 6)</button>
                      <button onclick="navigateToPhaseByIndex(8)">Avançar para Referidos (Fase 8)</button>
                  </div>
            </section>

             <section id="phase-8-referrals" class="script-phase">
                  <div class="phase-timer" id="timer-phase-8-referrals">0s</div>
                 <h3>
                    <div class="phase-title-content">
                         <span class="neuro-tag" style="background: var(--secondary); color: #000;">👥 8</span>
                         ONBOARDING & CONDUÇÃO DE REFERIDOS
                     </div>
                    <div class="phase-timer" id="timer-phase-8-referrals" title="Tempo gasto nesta fase">0s</div>
                 </h3>
                  <p style="font-size: 0.9em; color: var(--secondary); margin-top: -15px; margin-bottom: 20px;"><i>Objetivo: Dar os Próximos Passos, Coletar Indicações de Forma Guiada e Eficaz.</i></p>
                 <div class="script-text">
                      <p class="action-reminder">🗣️ [TOM: Mudar para um tom mais <span class="voice-emphasis">Firme</span>, <span class="voice-emphasis">Confiante</span> e <span class="voice-emphasis">Colaborativo</span>. Você está guiando agora.]</p>
                      <p><strong>Felipe Fala:</strong> Maravilha, <span data-fill="prospectName">[Nome]</span>! Então, acabei de te mandar uma mensagem no WhatsApp com seus dados de acesso e um link rápido pra começar. Dá uma olhada lá depois com calma. 📲</p>
                      <p><strong>Felipe Fala:</strong> **Agora, pra gente <span class="neuro-hack" data-tooltip="'Fechar com chave de ouro' - Frame positivo para a última tarefa.">fechar com chave de ouro</span> e pra você também poder <span class="neuro-hack" data-tooltip="Princípio da Reciprocidade: Ele recebeu um benefício (condição especial), agora pode retribuir.">dar essa mesma oportunidade</span> pra outras pessoas que você gosta, assim como o(a) <span data-fill="referrerName">[Nome do {nomeLead}]</span> fez por você <span class="neuro-hack" data-tooltip="Reforço da conexão social e da ação do indicador.">(gente boa ele(a), né?)</span>, vamos fazer um último passo juntos aqui <span class="voice-emphasis neuro-hack" data-tooltip="Minimiza o tempo e esforço percebido.">rapidinho (leva só 2 minutinhos)</span>, pode ser?** <span style="color:var(--primary)">[Contexto + Retribuição + Facilidade]</span></p>
                      <p class="action-reminder">❓ AGUARDE O "PODE SER" / "OK"</p>
                      <p><em>PROSPECT: Pode ser / Ok.</em></p>

                     <div class="script-note" style="border-color: var(--accent);">
                         <p><strong class="voice-emphasis">--- 📝 INSTRUÇÕES PASSO-A-PASSO (SEJA <span class="neuro-hack" data-tooltip="Nesta fase, comandos claros e diretos funcionam melhor que perguntas abertas.">DIRETIVO E GUIADO!</span>) ---</strong></p>
                         <ol style="padding-left: 20px; line-height: 2.5;">
                            <li><strong style="color:var(--primary)">Felipe Fala:</strong> ***<u>Ótimo! Pega seu celular aí rapidinho. Te mandei um '<span style="color: var(--warning)">oi</span>' aí no WhatsApp <span class="neuro-hack" data-tooltip="Verifica se ele está na conversa certa.">pra facilitar</span>. Achou minha mensagem? Só me manda um '<span style="color: var(--warning)">oi</span>' de volta pra eu saber que estamos conectados.</u>*** <span class="action-reminder">[Confirma Conexão]</span></li>
                             <p class="action-reminder">✅ AGUARDE O 'oi' DE VOLTA</p>
                            <li><strong style="color:var(--primary)">Felipe Fala:</strong> ***<u>Beleza, recebi aqui! Valeu! Agora, me diz: seu celular é <span class="voice-emphasis">iPhone</span> ou <span class="voice-emphasis">Android</span>?</u>*** <span class="action-reminder">[Adapta Instrução]</span></li>
                             <p class="action-reminder">❓ OUÇA A RESPOSTA</p>
                            <li><strong style="color:var(--primary)">Felipe Fala (Android):</strong> ***<u>Ok, Android. Aí no chat comigo, clica no <span class="neuro-hack" data-tooltip="Visualmente fácil de identificar.">clipe (📎)</span> aí embaixo, como se fosse anexar algo... achou? Agora clica em '<span class="voice-emphasis">Contatos</span>'... Abriu sua lista de contatos da agenda, certo?</u>***</li>
                            <li><strong style="color:var(--primary)">Felipe Fala (iPhone):</strong> ***<u>Ok, iPhone. Aí no chat comigo, clica no <span class="neuro-hack" data-tooltip="Visualmente fácil de identificar.">sinal de mais (+)</span> aí embaixo, no cantinho... achou? Agora clica em '<span class="voice-emphasis">Contato</span>'... Abriu sua lista de contatos da agenda, certo?</u>***</li>
                             <p class="action-reminder">✅ AGUARDE CONFIRMAÇÃO</p>
                            <li><strong style="color:var(--primary)">Felipe Fala:</strong> ***<u>Show! <span data-fill="prospectName">[Nome]</span>, como te falei, pra gente poder oferecer essa <span class="neuro-hack" data-tooltip="Usar 'bolsa' ou 'condição especial' soa melhor que 'vender'.">bolsa/condição especial</span> pra mais pessoas, eu preciso muito de algumas indicações suas, é parte do programa. Então, aí na sua agenda aberta, vai selecionando pra mim <span class="voice-emphasis">AGORA</span> o contato de pelo menos <span class="neuro-hack" data-tooltip="Âncora alta. Objetivo é conseguir o máximo possível, 30 é um alvo ambicioso mas define a escala.">30 pessoas</span> que você acredita que poderiam <span class="neuro-hack" data-tooltip="'Curtir essa chance' é mais leve que 'precisar do curso'.">curtir essa chance</span> também: pode ser amigo, família, colega de trabalho... <span class="neuro-hack" data-tooltip="Remove a barreira mental de ter que 'filtrar' os contatos.">Não precisa pensar muito se a pessoa precisa ou não de inglês agora,</span> só vai selecionando quem vier à mente e que você acha gente boa. Pode ir fazendo aí, <span class="neuro-hack" data-tooltip="Mostra que você está junto, paciente, não apressando.">tô aqui contigo na linha pra te ajudar se precisar.</span></u>*** <span class="action-reminder">[COMANDO CLARO + Lógica Simples + Facilita Ação + Presença + Âncora Numérica]</span> <span class="action-reminder">🤫 [Silêncio Encorajador! Dê tempo. Fique mudo mas mostre que está ali.]</span></li>
                             <p class="action-reminder">⏳ AGUARDE ELE SELECIONAR (Pode levar 1-2 minutos)</p>
                            <li><strong style="color:var(--primary)">Felipe Fala:</strong> ***<u>Selecionou uma galera aí já? <span class="voice-emphasis">Show de bola!</span> Agora só clicar em '<span class="voice-emphasis">Enviar</span>' (ou no check ✔️, ou na setinha ➡️, dependendo do celular).</u>***</li>
                             <p class="action-reminder">✅ AGUARDE OS CONTATOS CHEGAREM NO SEU WHATSAPP</p>
                            <li><strong style="color:var(--primary)">Felipe Fala:</strong> ***<u>Recebi aqui, <span data-fill="prospectName">[Nome]</span>! Perfeito, <span style="color: var(--primary)">muito obrigado mesmo, isso ajuda demais!</span> 🙏 Última coisinha <span class="neuro-hack" data-tooltip="Sinaliza o fim da tarefa, aliviando o prospect."> (prometo!)</span>: pra gente poder avisar seus amigos que eu (Felipe) vou ligar em nome da Wise Up <span class="neuro-hack" data-tooltip="Justificativa clara e lógica para a próxima ação."> (pra não pegar ninguém de surpresa, assim como o(a) <span data-fill="referrerName">[Nome {nomeLead}]</span> fez - ou deveria ter feito - contigo)</span>, eu te mandei uma <span class="voice-emphasis">mensagem de exemplo</span> aí no WhatsApp agora. Dá uma olhada.</u>***</li>
                             <p class="action-reminder">👀 ESPERE ELE LER</p>
                            <li><strong style="color:var(--primary)">Felipe Fala:</strong> ***<u>Achou? É essa mensagem que começa com "Oi [Nome do Amigo], tudo bem?...". Faz o seguinte: pega essa mensagem que <span class="voice-emphasis">EU</span> te mandei, <span class="voice-emphasis">COPIA</span> ela inteira e <span class="voice-emphasis">COLA</span> aqui pra mim no nosso chat. Só pra eu ter certeza que você tá com a mensagem certinha.</u>*** <span class="neuro-hack" data-tooltip="Passo de verificação simples, mas crucial, antes do encaminhamento em massa.">Validação</span></li>
                             <p class="action-reminder">✅ AGUARDE ELE COLAR A MENSAGEM NO CHAT</p>
                            <li><strong style="color:var(--primary)">Felipe Fala:</strong> ***<u>Isso, perfeito! Mensagem correta! Agora o último passo: pega essa mensagem que <span class="voice-emphasis">VOCÊ</span> me mandou agora (a que você acabou de colar), <span class="voice-emphasis">clica e segura</span> nela, e escolhe a opção '<span class="voice-emphasis">Encaminhar</span>'. Conseguiu achar?</u>***</li>
                             <p class="action-reminder">✅ AGUARDE CONFIRMAÇÃO</p>
                            <li><strong style="color:var(--primary)">Felipe Fala:</strong> ***<u>Show! Abriu a lista de contatos pra selecionar pra quem encaminhar, certo? Agora é fácil: eu vou te falando aqui os nomes que você me enviou, <span class="neuro-hack" data-tooltip="Chunking: Tarefa grande dividida em blocos gerenciáveis. Reduz a sensação de 'muito trabalho'.">de 5 em 5</span>, você só seleciona esses 5 na lista e clica em '<span class="voice-emphasis">Enviar</span>' lá embaixo pra mandar essa mensagem pra eles. Tranquilo? Vamos lá: <span class="neuro-hack" data-tooltip="Leia os nomes pausadamente.">[Nome 1], [Nome 2], [Nome 3], [Nome 4], [Nome 5]</span>... Achou eles? Seleciona e envia.</u>***</li>
                              <p class="action-reminder">🔄 [Repetir o processo em blocos de 5 até encaminhar para todos ou um número significativo.]</p>
                              <p><strong>Felipe Fala:</strong> ***<u>Ótimo, mais 5 enviados! Próximos: [Nome 6]...</u>***</p>
                         </ol>
                     </div>
                 </div>
                  <div class="phase-nav">
                      <button class="back-btn" onclick="navigateToPhaseByIndex(7)">Voltar (Fase 7)</button>
                      <button onclick="navigateToPhaseByIndex(9)">✅ Referidos Enviados! Avançar (Fase 9)</button>
                  </div>
            </section>

             <section id="phase-9-wrapup" class="script-phase">
                 <div class="phase-timer" id="timer-phase-9-wrapup">0s</div>
                  <h3>
                    <div class="phase-title-content">
                         <span class="neuro-tag" style="background: var(--primary); color: #000;">🏁 9</span>
                         ENCERRAMENTO
                     </div>
                    <div class="phase-timer" id="timer-phase-9-wrapup" title="Tempo gasto nesta fase">0s</div>
                 </h3>
                  <p style="font-size: 0.9em; color: var(--secondary); margin-top: -15px; margin-bottom: 20px;"><i>Objetivo: Deixar uma Impressão Final Positiva, Reforçar Valor e Próximos Passos.</i></p>
                 <div class="script-text">
                      <p><strong>Felipe Fala:</strong> ***<u><span class="voice-emphasis">Prontinho, <span data-fill="prospectName">[Nome]</span>! Tudo certo por aqui, missão cumprida!</span></u>***</p>
                      <p><strong>Felipe Fala:</strong> ***<u>Mais uma vez, <span style="color:var(--primary)">parabéns pela sua decisão e iniciativa</span>! <span class="neuro-hack" data-tooltip="Reafirma o benefício principal conectado ao sonho dele.">Tenho certeza absoluta que o inglês vai te ajudar muito a [<span data-fill="dreamNeedInput" class="placeholder-filled">[Reforçar Sonho Principal]</span>].</span> E ó, <span style="color:var(--primary)">muito, muito obrigado mesmo</span> pelas indicações, <span class="neuro-hack" data-tooltip="Mostra o impacto positivo da ação dele.">vão ajudar bastante</span> a gente a levar essa oportunidade pra mais pessoas! 🙏</u>*** <span class="neuro-hack" data-tooltip="Duplo reforço positivo: pela compra e pelas indicações.">Reforço Positivo Duplo</span></p>
                      <p><strong>Felipe Fala:</strong> ***<u>Agora é <span class="voice-emphasis">mergulhar na plataforma</span>, começar seus estudos e ver a transformação acontecer! Qualquer dúvida que surgir, <span class="neuro-hack" data-tooltip="Oferece suporte contínuo.">você tem meu contato aqui no WhatsApp, é só chamar</span>. <span style="color:var(--primary)">Muito sucesso</span> pra você nessa nova jornada! Um abraço e não esquece de <span class="neuro-hack" data-tooltip="Último lembrete do ciclo social da indicação.">agradecer também ao(à) <span data-fill="referrerName">[Nome do {nomeLead}]</span> pela super dica!</span> Manda um 'valeu' pra ele(a) por mim! 😉 Tchau, tchau!</u>***</p>
                       <p class="action-reminder">✅ FIM DA LIGAÇÃO</p>
                 </div>
                 <div class="phase-nav">
                     <button class="back-btn" onclick="navigateToPhaseByIndex(8)">Voltar (Fase 8)</button>
                     <button onclick="navigateToPhaseByIndex(10)">Avançar para Pós-Ligação (Fase 10)</button>
                 </div>
             </section>

             <section id="phase-10-postcall" class="script-phase">
                  <div class="phase-timer" id="timer-phase-10-postcall">0s</div>
                 <h3>
                    <div class="phase-title-content">
                         <span class="neuro-tag" style="background: var(--secondary); color: #000;">📊 10</span>
                         PÓS-LIGAÇÃO
                     </div>
                    <div class="phase-timer" id="timer-phase-10-postcall" title="Tempo gasto nesta fase">0s</div>
                 </h3>
                  <p style="font-size: 0.9em; color: var(--secondary); margin-top: -15px; margin-bottom: 20px;"><i>Objetivo: Registrar Dados Cruciais, Analisar Performance, Agendar Próximos Passos.</i></p>
                 <div class="script-text">
                     <p class="action-reminder">🧘 [Respire Fundo! Momento de Organizar a Mente e os Dados.]</p>
                     <p><strong style="color:var(--primary)">REGISTRO NO CRM (Checklist Final - Dados já preenchidos pelo sistema):</strong></p>
                     <ul class="checklist">
                          <li class="checked"><input type="checkbox" checked disabled> 👤 Prospect: <span data-fill="prospectName">[Nome do Prospect]</span></li>
                          <li class="checked"><input type="checkbox" checked disabled> 🤝 Indicador: <span data-fill="referrerName">[Nome {nomeLead}]</span></li>
                           <li class="checked"><input type="checkbox" checked disabled> 🔥 Dor Principal: <span data-fill="mainPain">[Problema Principal]</span></li>
                           <li class="checked"><input type="checkbox" checked disabled> ⭐ Sonho Principal: <span data-fill="dreamNeedInput">[Necessidade/Sonho Principal]</span></li>
                          <li class="checked"><input type="checkbox" checked disabled> 📉 Implicação: <span data-fill="implication">[Impacto da Implicação]</span></li>
                          <li class="checked"><input type="checkbox" checked disabled> 🎮 Hobby: <span data-fill="hobbyInput">[Hobby]</span></li>
                           <li class="checked"><input type="checkbox" checked disabled> 💼 Área Trab.: <span data-fill="jobArea">[Área de Trabalho]</span></li>
                           <li class="checked"><input type="checkbox" checked disabled> 📊 Nível Inglês: <span data-fill="englishLevel">[Nível Atual]</span></li>
                           <li class="checked"><input type="checkbox" checked disabled> 🔑 Decisor: <span data-fill="decisionMaker">[Decisor]</span></li>
                          <li onclick="toggleChecklistItem(this)"><input type="checkbox"> ⚠️ Objeções Tratadas: [Clicar e Selecionar/Descrever - <span class="neuro-hack" data-tooltip="Registrar objeções ajuda a identificar padrões e melhorar o script.">Melhora Contínua</span>]</li>
                          <li onclick="toggleChecklistItem(this)"><input type="checkbox"> 💲 Resultado Final: [Clicar: Venda / Não Venda / Agendado]</li>
                          <li onclick="toggleChecklistItem(this)"><input type="checkbox"> 👥 Referidos Coletados: [Clicar e Inserir Número]</li>
                     </ul>
                     <button onclick="syncCRM()" style="background:var(--accent); color:#000; border:none; margin-top:15px; width: 100%; padding: 12px; font-size: 1.1em;">💾 Salvar Dados e Sincronizar com CRM (Simulado)</button>
                     <hr style="border-color: var(--border-color);">
                     <p class="action-reminder">➡️ <span class="neuro-hack" data-tooltip="Feedback positivo para o indicador aumenta a chance de novas indicações.">Agradeça ao <span data-fill="referrerName">{nomeLead}</span></span>! Envie uma mensagem rápida: "Obrigado pela indicação do(a) <span data-fill="prospectName">[Nome]</span>! Deu certo! / Conversamos bem!"</p>
                      <p class="action-reminder">⏱️ <span class="neuro-hack" data-tooltip="Analisar tempos ajuda a otimizar o fluxo e identificar gargalos.">Tempo Gasto por Fase (Análise Pessoal):</span></p>
                      <div id="phaseTimingSummary" style="font-size: 0.9em; line-height: 1.7; background: rgba(255,221,87, 0.1); padding: 10px; border-radius: 5px;"></div>
                      <p style="text-align: center; margin-top: 25px;">✨<br><strong>Script Concluído! Pronto para a próxima ligação.</strong></p>
                 </div>
                 <div class="phase-nav">
                      <button class="back-btn" onclick="navigateToPhaseByIndex(9)">Voltar (Fase 9)</button>
                      <button onclick="resetScript()" style="background: var(--secondary); color: #000;">🔄 Iniciar Novo Script</button>
                 </div>
            </section>
        </div><!-- Fim de #scriptContentArea -->
    </main>

    <script>
        // --- ESTADO GLOBAL E CONFIGURAÇÕES ---
        const scriptState = {
            currentPhaseIndex: 0,
            // Ordem exata das fases conforme o script V5.2
            phases: [
                { id: 'phase-0-prep', name: 'Preparo', startTime: 0, timeSpent: 0 },
                { id: 'phase-1-opening', name: 'Abertura', startTime: 0, timeSpent: 0 },
                { id: 'phase-2-spin', name: 'SPIN', startTime: 0, timeSpent: 0 },
                { id: 'phase-3-transition', name: 'Transição', startTime: 0, timeSpent: 0 },
                { id: 'phase-4-solution', name: 'Solução', startTime: 0, timeSpent: 0 },
                { id: 'phase-5-preclosing', name: 'Pré-Fech.', startTime: 0, timeSpent: 0 },
                { id: 'phase-6-closing', name: 'Fechamento', startTime: 0, timeSpent: 0 },
                { id: 'phase-7-upsell', name: 'Upsell', startTime: 0, timeSpent: 0 },
                { id: 'phase-8-referrals', name: 'Referidos', startTime: 0, timeSpent: 0 },
                { id: 'phase-9-wrapup', name: 'Encerra.', startTime: 0, timeSpent: 0 },
                { id: 'phase-10-postcall', name: 'Pós-Venda', startTime: 0, timeSpent: 0 }
            ],
            // Contexto inicial vazio, preenchido pelo painel
            context: {
                prospectName: '', referrerName: '', mainPain: '', dreamNeed: '',
                implication: '', hobby: '', jobArea: '', englishLevel: '',
                decisionMaker: 'ele' // Valor padrão
            },
             timerInterval: null
        };

         // Respostas para Objeções (Funções que usam o contexto)
         const objectionResponses = {
             caro: (context) => `Entendo perfeitamente, ${context.prospectName || '[Nome do Prospect]'}. <span class="neuro-hack" data-tooltip="Pergunta chave para direcionar a solução: é o valor total ou a parcela?">É mais o valor total ou a parcela que fica apertado pra você agora?</span> Mas lembra do impacto de "<span class="placeholder-filled" style="color: var(--warning) !important;">${context.implication || '[Impacto da Implicação]'}</span>" e do quanto você quer "<span class="placeholder-filled" style="color: var(--primary) !important;">${context.dreamNeed || '[Sonho Principal]'}</span>"? Qual o <span class="voice-emphasis">*custo* de continuar *sem* isso?</span> Pensa nesse valor como um <span class="neuro-hack" data-tooltip="Reframe: Não é gasto, é investimento no sonho dele.">investimento direto</span> pra realizar esse sonho, com uma condição que <span class="voice-emphasis">só veio</span> pela indicação do(a) ${context.referrerName || '[Indicador]'}! <br><br> <strong style="color: var(--primary)">PLANO B:</strong> Olha, pra viabilizar seu início <span class="voice-emphasis">*hoje*</span> e aproveitar a indicação, temos também o **Plano Anual por R$ 162/mês**. Mesmo curso completo por 1 ano inteiro. ***Assim fica mais acessível pra você agarrar essa oportunidade <span class="voice-emphasis">agora</span>?***`,
             depois: (context) => `Claro, ${context.prospectName || '[Nome do Prospect]'}. <span class="neuro-hack" data-tooltip="Pergunta aberta para entender a real dúvida por trás do 'pensar'.">O que *exatamente* te deixou em dúvida pra decidir agora? Me ajuda a entender.</span> <span class="action-reminder">[Ouça Atentamente a Resposta]</span> ... Entendi. Mas e o impacto de "<span class="placeholder-filled" style="color: var(--warning) !important;">${context.implication || '[Impacto da Implicação]'}</span>", continua acontecendo, né?... E essa <span class="voice-emphasis">condição especial da indicação é só hoje</span>... **<span class="neuro-hack" data-tooltip="Confronto suave: Adiar = Perder Sonho + Perder Vantagem.">Adiar não seria deixar pra trás a chance de começar a realizar "${context.dreamNeed || '[Sonho Principal]'}" e ainda perder essa vantagem única?</span>** O que o(a) ${context.referrerName || '[Indicador]'} diria? <span class="neuro-hack" data-tooltip="Traz o indicador como 'consultor' da decisão.">🤔</span> Se a questão é realmente [Ponto específico da dúvida dele], podemos resolver isso e aproveitar a condição de hoje?`,
             online: (context) => `Entendo o receio, ${context.prospectName || '[Nome do Prospect]'}. <span class="neuro-hack" data-tooltip="Descobrir a preocupação específica (disciplina? qualidade? suporte?).">O que mais te preocupa no formato online?</span> Mas lembra da dificuldade com "<span class="placeholder-filled" style="color: var(--danger) !important;">${context.mainPain || '[Dor de Tempo/Rotina]'}</span>"? O presencial muitas vezes não cabe na nossa vida corrida, né? <span class="neuro-hack" data-tooltip="Reframe: O online é a SOLUÇÃO para a falta de tempo/flexibilidade.">Nosso online foi feito pra ser **FÁCIL e FLEXÍVEL**, como usar o WhatsApp ou Netflix!</span> Funciona até sem internet! **<span class="neuro-hack" data-tooltip="Pergunta de valor: Vale a pena tentar o novo para alcançar o velho sonho?">Não vale a pena tentar esse jeito moderno pra finalmente conseguir "${context.dreamNeed || '[Realizar Sonho]'}"?</span>** Olha, o(a) ${context.referrerName || '[Indicador]'} está usando e gostando! <span class="neuro-hack" data-tooltip="Reforço da prova social específica.">👍</span> Que tal experimentar? Temos garantia de satisfação.`
             // Adicionar mais objeções comuns (concorrente, funciona, etc.) aqui no mesmo formato
             ,concorrente: (context) => `Que bom que você está pesquisando, ${context.prospectName || '[Nome do Prospect]'}! Isso mostra que você leva a sério. Realmente existem opções mais baratas, mas <span class="neuro-hack" data-tooltip="Foco na DIFERENÇA de VALOR, não apenas preço.">será que elas entregam o *mesmo resultado*</span> pra quem quer [<span class="placeholder-filled" style="color: var(--primary) !important;">${context.dreamNeed || '[Sonho Principal]'}</span>]? Nosso método com vídeos cinematográficos, flexibilidade total e foco na vida real é <span class="voice-emphasis">único</span>. Além disso, o acesso <span class="voice-emphasis">vitalício</span> dessa condição de indicação... <span class="neuro-hack" data-tooltip="Comparar o custo total ao longo do tempo.">Quanto custaria manter uma assinatura mensal por anos em outro lugar?</span> Aqui você investe uma vez e é seu pra sempre. Pensando no <span class="voice-emphasis">seu objetivo final</span>, qual caminho parece mais <span class="neuro-hack" data-tooltip="Pergunta de valor focada no resultado.">eficaz e seguro</span>?`,
             funciona: (context) => `Essa dúvida é super comum, ${context.prospectName || '[Nome do Prospect]'}, e muito válida! Muita gente já tentou outros métodos e se frustrou. Mas o que vimos com <span class="neuro-hack" data-tooltip="Número grande gera autoridade e prova social massiva.">milhares de alunos</span>, inclusive o(a) ${context.referrerName || '[Indicador]'}, é que o problema raramente é a pessoa, e sim o <span class="voice-emphasis">método</span>. Nosso foco em <span class="neuro-hack" data-tooltip="Relembre os diferenciais principais da Fase 4.">situações reais, flexibilidade e prática constante</span> foi desenhado justamente pra quem <span class="neuro-hack" data-tooltip="Valida a experiência passada dele sem culpá-lo.">não se adaptou aos métodos tradicionais</span>. E como temos o acesso <span class="voice-emphasis">vitalício</span>, você pode ir no <span class="voice-emphasis">seu ritmo</span>, sem pressão. Que tal dar uma chance pra um método <span class="neuro-hack" data-tooltip="Posiciona como diferente e mais moderno.">diferente</span> que já funcionou pra tanta gente como o(a) ${context.referrerName || '[Indicador]'}?`
         };


        // --- INICIALIZAÇÃO ---
        document.addEventListener('DOMContentLoaded', () => {
            initializeContextPanel();
            generateScriptNav();
            captureOriginalPlaceholders(); // Captura placeholders antes de qualquer coisa
            updateScriptPlaceholders(); // Garante estado inicial correto dos placeholders
            navigateToPhaseByIndex(0); // Mostra a primeira fase só depois de tudo pronto
        });

        // --- NAVEGAÇÃO E TEMPORIZADOR ---
        function generateScriptNav() {
            const navContainer = document.getElementById('scriptNav');
            navContainer.innerHTML = '';
            scriptState.phases.forEach((phase, index) => {
                const button = document.createElement('button');
                let shortName = phase.name.length > 9 ? phase.name.substring(0, 8) + '…' : phase.name; // Nome mais curto
                button.textContent = `${index}. ${shortName}`;
                button.onclick = () => navigateToPhaseByIndex(index);
                button.id = `nav-${phase.id}`;
                 button.title = `${index}: ${phase.name}`; // Tooltip com nome completo
                navContainer.appendChild(button);
            });
        }

        function startPhaseTimer(phaseIndex) {
             stopPhaseTimer(); // Garante que timer anterior parou
            scriptState.phases[phaseIndex].startTime = Date.now();
            const timerDisplay = document.getElementById(`timer-${scriptState.phases[phaseIndex].id}`);
             if (!timerDisplay) return;
             timerDisplay.textContent = '0s';

            // Armazena a referência do intervalo no estado da fase para poder limpar depois
            scriptState.phases[phaseIndex].intervalRef = setInterval(() => {
                const now = Date.now();
                const elapsed = Math.floor((now - scriptState.phases[phaseIndex].startTime) / 1000);
                 timerDisplay.textContent = `${elapsed}s`;
                 // Atualiza o tempo acumulado a cada segundo também (para registro contínuo)
                 // scriptState.phases[phaseIndex].timeSpent = elapsed; // Comentado para acumular só ao sair
            }, 1000);
        }

        function stopPhaseTimer() {
             // Encontra a fase que TINHA o timer ativo (a anterior)
             const runningPhase = scriptState.phases.find(p => p.intervalRef);
             if (runningPhase && runningPhase.intervalRef) {
                  clearInterval(runningPhase.intervalRef); // Para o intervalo
                  runningPhase.intervalRef = null; // Limpa a referência

                  if (runningPhase.startTime > 0) {
                       const endTime = Date.now();
                       const timeSpentSeconds = Math.max(1, Math.floor((endTime - runningPhase.startTime) / 1000)); // Garante pelo menos 1s
                       runningPhase.timeSpent += timeSpentSeconds; // Acumula
                       runningPhase.startTime = 0; // Reseta

                       // Atualiza display da fase que acabou
                       const timerDisplay = document.getElementById(`timer-${runningPhase.id}`);
                       if (timerDisplay) {
                            timerDisplay.textContent = `${runningPhase.timeSpent}s`;
                       }
                  }
             }
             // Limpa qualquer outra referência de intervalo (segurança)
             if(scriptState.timerInterval) {
                 clearInterval(scriptState.timerInterval);
                 scriptState.timerInterval = null;
             }
        }

        function navigateToPhaseByIndex(index) {
            if (index < 0 || index >= scriptState.phases.length) return;

             stopPhaseTimer(); // Para o timer da fase anterior e registra tempo

            scriptState.currentPhaseIndex = index;
            const targetPhaseId = scriptState.phases[index].id; // Corrigido para pegar o ID do objeto

            document.querySelectorAll('.script-phase').forEach(phase => {
                phase.classList.remove('active-phase');
            });

            const targetElement = document.getElementById(targetPhaseId);
            if(targetElement) {
                targetElement.classList.add('active-phase');
                // Scroll suave para o topo da DIV PAI (#scriptViewer)
                document.getElementById('scriptViewer').scrollTo({ top: 0, behavior: 'smooth' });
                // Pequeno delay e depois scroll para o elemento para garantir visibilidade após display block
                 setTimeout(() => {
                      targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
                 }, 100);
            }

            updateProgressBar();
            updateNavButtons();
            updatePhaseNavButtons();
             startPhaseTimer(index); // Inicia timer para a NOVA fase
             displayImplicationGuidance(targetPhaseId);
             updatePhaseTimingSummary(); // Atualiza resumo sempre que navega
             updateSolutionExamplesVisibility(); // Adapta exemplos da Fase 4
        }

         function navigateToPhaseById(phaseId) {
             const index = scriptState.phases.findIndex(p => p.id === phaseId);
             if (index !== -1) {
                 navigateToPhaseByIndex(index);
             }
         }

        function updateProgressBar() {
             const progress = ((scriptState.currentPhaseIndex + 1) / scriptState.phases.length) * 100;
            document.getElementById('scriptProgressBar').style.width = progress + '%';
        }

        function updateNavButtons() {
            document.querySelectorAll('#scriptNav button').forEach(button => {
                button.classList.remove('active-nav');
            });
            const currentNavButton = document.getElementById(`nav-${scriptState.phases[scriptState.currentPhaseIndex].id}`);
            if (currentNavButton) {
                currentNavButton.classList.add('active-nav');
            }
        }

         function updatePhaseNavButtons() {
             const currentPhaseElement = document.querySelector('.active-phase');
             if (!currentPhaseElement) return;
             const phaseNav = currentPhaseElement.querySelector('.phase-nav');
             if (!phaseNav) return;

             const backButton = phaseNav.querySelector('.back-btn');
             const nextButtonStandard = phaseNav.querySelector('button:not(.back-btn):not([onclick*="handle"]):not([onclick*="endCall"]):not([onclick*="resetScript"])');
             const yesButton = phaseNav.querySelector('.yes-btn'); // Botão de Sim/Decisão Positiva
             const noButton = phaseNav.querySelector('.no-btn');   // Botão de Não/Decisão Negativa

             // Lógica Botão Voltar
             if (backButton) backButton.disabled = scriptState.currentPhaseIndex === 0;

             // Lógica Botão Avançar Padrão (se existir)
             if (nextButtonStandard) nextButtonStandard.disabled = scriptState.currentPhaseIndex === scriptState.phases.length - 1;

             // Desabilitar botões de decisão se uma decisão já foi tomada (ex: esconde/mostra paths)
             // (A lógica específica de habilitar/desabilitar botões de decisão fica nas funções handle...)
         }

         function displayImplicationGuidance(currentPhaseId) {
             const implicationGuidance = document.getElementById('implicationGuidance');
             const implicationValue = scriptState.context.implication;
             const relevantPhases = ['phase-2-spin', 'phase-5-preclosing', 'phase-6-closing'];

             if (implicationGuidance && implicationValue && relevantPhases.includes(currentPhaseId)) {
                 const implicationSpan = implicationGuidance.querySelector('[data-fill="implication"]');
                 const nameSpan = implicationGuidance.querySelector('[data-fill="prospectName"]');
                 if (implicationSpan) {
                     implicationSpan.textContent = implicationValue;
                     implicationSpan.classList.add('placeholder-filled');
                 }
                 if (nameSpan && scriptState.context.prospectName) {
                      nameSpan.textContent = scriptState.context.prospectName;
                      nameSpan.classList.add('placeholder-filled');
                  }
                 implicationGuidance.style.display = 'block';
             } else if (implicationGuidance) {
                 implicationGuidance.style.display = 'none';
             }
         }

         function updatePhaseTimingSummary() {
             const summaryDiv = document.getElementById('phaseTimingSummary');
             if (summaryDiv) {
                  summaryDiv.innerHTML = '<strong>⏱️ Tempo por Fase (Acumulado):</strong><br>' +
                       scriptState.phases.map((p, i) => {
                           // Para a fase atual, mostra o tempo desde o início dela
                           let currentTime = p.timeSpent;
                           if (i === scriptState.currentPhaseIndex && p.startTime > 0) {
                               currentTime += Math.floor((Date.now() - p.startTime) / 1000);
                           }
                            // Formata o nome da fase para exibição
                            let displayName = p.name.length > 10 ? p.name.substring(0,9) + '...' : p.name;
                           return `<span style="color: ${i === scriptState.currentPhaseIndex ? 'var(--primary)' : 'var(--text)'};">${i}. ${displayName}: ${currentTime}s</span>`;
                       }).join('<br>');
              }
         }


        // --- AUTOMAÇÃO DE CONTEXTO ---
        function initializeContextPanel() {
            const inputs = document.querySelectorAll('#controlPanel input, #controlPanel select, #controlPanel textarea');
            inputs.forEach(input => {
                 const update = () => {
                      const key = input.id.replace('Input', '');
                      scriptState.context[key] = input.value;
                      updateScriptPlaceholders();
                      if(key === 'implication') {
                          displayImplicationGuidance(scriptState.phases[scriptState.currentPhaseIndex].id);
                      }
                      // Atualiza exemplos na fase 4 se o sonho ou hobby mudou
                       if(key === 'dreamNeed' || key === 'hobby') {
                            updateSolutionExamplesVisibility();
                       }
                 };
                input.addEventListener('input', update);
                input.addEventListener('change', update);
            });
        }

         function captureOriginalPlaceholders() {
             document.querySelectorAll('span[data-fill]').forEach(span => {
                  if (!span.dataset.originalPlaceholder) {
                       span.dataset.originalPlaceholder = span.textContent.trim();
                  }
             });
         }

        function updateScriptPlaceholders() {
             document.querySelectorAll('#controlPanel input, #controlPanel select, #controlPanel textarea').forEach(input => {
                  scriptState.context[input.id.replace('Input', '')] = input.value;
             });

            document.querySelectorAll('span[data-fill]').forEach(span => {
                const fillType = span.getAttribute('data-fill');
                 const originalPlaceholder = span.dataset.originalPlaceholder || `[${fillType}]`;
                 const newValue = scriptState.context[fillType] || "";
                 const showPlaceholder = !newValue || newValue.trim() === "";

                 span.textContent = showPlaceholder ? originalPlaceholder : newValue;
                 span.classList.toggle('placeholder-filled', !showPlaceholder);
            });
             displayImplicationGuidance(scriptState.phases[scriptState.currentPhaseIndex].id); // Reavalia dica
             updateSolutionExamplesVisibility(); // Reavalia exemplos
        }

        function focusInput(inputId) {
             const inputElement = document.getElementById(inputId);
             if (inputElement) {
                  inputElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
                 inputElement.focus();
                 inputElement.style.transition = 'box-shadow 0.5s ease-in-out';
                 inputElement.style.boxShadow = `0 0 15px ${getComputedStyle(document.documentElement).getPropertyValue('--accent')}`; // Mais forte
                 setTimeout(() => { inputElement.style.boxShadow = 'none'; }, 2500); // Duração maior
             }
         }

         // Mostra/esconde exemplos na Fase 4 baseado no contexto
          function updateSolutionExamplesVisibility() {
             const dream = scriptState.context.dreamNeed?.toLowerCase() || "";
             const hobby = scriptState.context.hobby?.toLowerCase() || "";
              const job = scriptState.context.jobArea?.toLowerCase() || "";

             const showTravel = dream.includes('viajar') || dream.includes('disney') || dream.includes('europa') || dream.includes('conhecer');
             const showWork = dream.includes('trabalho') || dream.includes('carreira') || dream.includes('promovido') || dream.includes('profissional') || job.length > 2;
             const showHobby = dream.includes('hobby') || dream.includes('serie') || dream.includes('música') || dream.includes('game') || dream.includes('filme') || hobby.length > 2;

              const travelEl = document.getElementById('example-viagem');
              const workEl = document.getElementById('example-trabalho');
              const hobbyEl = document.getElementById('example-hobby');

              if(travelEl) travelEl.style.display = showTravel ? 'block' : 'none';
              if(workEl) workEl.style.display = showWork ? 'block' : 'none';
              if(hobbyEl) hobbyEl.style.display = showHobby ? 'block' : 'none';

               // Se nenhum se aplica, talvez mostrar um genérico ou o de trabalho por padrão
               if (!showTravel && !showWork && !showHobby && workEl) {
                   // workEl.style.display = 'block'; // Exemplo: Default para trabalho
               }
          }


         // --- LÓGICA DAS DECISÕES E ROTAS ---
         function handleInterestResponse(isInterested) {
             document.getElementById('noInterestPath').style.display = isInterested ? 'none' : 'block';
             document.getElementById('interestPath').style.display = isInterested ? 'block' : 'none';
         }
          function handleTimeResponse(hasTime) {
              document.getElementById('noTimePath').style.display = hasTime ? 'none' : 'block';
              document.getElementById('timeOkPath').style.display = hasTime ? 'block' : 'none';
              // Desabilitar botão de avançar principal se não tiver tempo? Ou deixar ir pra SPIN mesmo assim?
              // Decisão: Deixar avançar, mas marcar no CRM/notas que o tempo é limitado.
          }
          function handlePriorityResponse(isPriority) {
              document.getElementById('noPriorityPath').style.display = isPriority ? 'none' : 'block';
              document.getElementById('priorityPath').style.display = isPriority ? 'block' : 'none';
          }
          function handleAcceptance() {
             document.getElementById('objectionOptions').style.display = 'none';
             document.getElementById('acceptancePath').style.display = 'block';
             // Botão de Prosseguir dentro de #acceptancePath já leva para a fase 7
         }
          function showObjectionOptions() {
             document.getElementById('acceptancePath').style.display = 'none';
             document.getElementById('objectionOptions').style.display = 'block';
             const resolvedBtn = document.getElementById('objectionResolvedButton');
              if(resolvedBtn) resolvedBtn.style.display = 'none'; // Esconde botão "resolvido"
             const responseArea = document.getElementById('objectionResponseArea');
              if(responseArea) responseArea.innerHTML = '<p style="color: var(--placeholder-color); text-align: center;">👆 Selecione a objeção acima...</p>';
         }
         function showObjectionResponse(type) {
             const responseArea = document.getElementById('objectionResponseArea');
             const responseGenerator = objectionResponses[type];
             if (typeof responseGenerator === 'function') {
                  updateScriptPlaceholders(); // Garante contexto atualizado
                  responseArea.innerHTML = responseGenerator(scriptState.context);
                  updateScriptPlaceholders(); // Aplica placeholders na resposta gerada
             } else {
                  responseArea.textContent = "Resposta padrão para esta objeção ainda não definida.";
             }
              const resolvedBtn = document.getElementById('objectionResolvedButton');
              if(resolvedBtn) resolvedBtn.style.display = 'inline-block'; // Mostra botão "resolvido"
          }
           // Função chamada pelo botão "Objeção Superada!"
           function tryClosingAgain() {
               // Aqui poderia voltar para a apresentação do preço ou tentar um fechamento alternativo
               // Por simplicidade, vamos apenas navegar para o Upsell assumindo que foi superada.
               alert("Ótimo! Vamos seguir então.");
               navigateToPhaseByIndex(7); // Vai para Upsell
           }
          function endCallPolitely(message = "Entendido. Agradeço seu tempo! Tenha um ótimo dia.") {
              alert(message);
              resetScript();
          }
          function resetScript() {
               document.querySelectorAll('#controlPanel input, #controlPanel select, #controlPanel textarea').forEach(input => {
                    input.value = (input.tagName === 'SELECT' ? '' : ''); // Limpa inputs/textareas, reseta selects
               });
               scriptState.currentPhaseIndex = 0;
               scriptState.phases.forEach(p => { p.startTime = 0; p.timeSpent = 0; if(p.intervalRef) clearInterval(p.intervalRef); p.intervalRef = null; });
               scriptState.context = {};
                // Resetar displays condicionais
                ['noInterestPath', 'interestPath', 'noTimePath', 'timeOkPath', 'noPriorityPath', 'priorityPath', 'acceptancePath', 'objectionOptions'].forEach(id => {
                     const el = document.getElementById(id);
                     if (el) el.style.display = 'none';
                 });
                 const objArea = document.getElementById('objectionResponseArea');
                 if(objArea) objArea.innerHTML = '<p style="color: var(--placeholder-color); text-align: center;">👆 Selecione a objeção acima...</p>';
                 const objBtn = document.getElementById('objectionResolvedButton');
                 if(objBtn) objBtn.style.display = 'none';

               updateScriptPlaceholders();
               navigateToPhaseByIndex(0);
               console.log("Script resetado.");
           }

         // --- INTERATIVIDADE AVANÇADA ---
         function toggleChecklistItem(listItem) {
              const checkbox = listItem.querySelector('input[type="checkbox"]');
              if(checkbox.disabled) return;
              checkbox.checked = !checkbox.checked;
              listItem.classList.toggle('checked', checkbox.checked);
              // Atualizar contexto se necessário
              const contextKey = listItem.dataset.contextKey;
              const contextValue = listItem.dataset.contextValue;
              if (contextKey && contextValue) {
                   if (checkbox.checked) {
                        // Adicionar ao contexto (poderia ser uma lista)
                        // scriptState.context[contextKey] = scriptState.context[contextKey] || [];
                        // scriptState.context[contextKey].push(contextValue);
                        console.log(`Checklist ${contextKey} marcado: ${contextValue}`);
                   } else {
                        // Remover do contexto
                   }
                    updateScriptPlaceholders(); // Atualizar interface se o contexto mudou
               }
          }
           // Adiciona a função para atualizar o contexto a partir do checklist (exemplo)
           function updateContextFromChecklist(listItem, inputId, valueToSet) {
               const checkbox = listItem.querySelector('input[type="checkbox"]');
               const isChecked = !checkbox.checked; // O estado será invertido pelo toggleChecklistItem

               if (isChecked) { // Se VAI ser marcado
                   const inputElement = document.getElementById(inputId);
                   if (inputElement) {
                       // Decide se substitui ou anexa o valor
                       if (inputElement.value && inputId === 'dreamNeedInput') { // Ex: Anexar sonhos
                           inputElement.value += `, ${valueToSet}`;
                       } else {
                           inputElement.value = valueToSet;
                       }
                       // Dispara o evento de input para atualizar tudo
                       inputElement.dispatchEvent(new Event('input'));
                   }
               }
                toggleChecklistItem(listItem); // Chama a função original para marcar/desmarcar
           }

           // Simulação de Ações Pós-Venda
         function syncCRM() {
              updateScriptPlaceholders(); // Garante que o contexto está 100% atualizado
             console.log("Simulando sincronização com CRM:", scriptState.context);
             // Coleta dados dos checklists finais também, se necessário
             const resultCheck = document.querySelector('#phase-10-postcall .checklist li[onclick*="Resultado"] input')?.checked; // Exemplo
             const dataToSend = { ...scriptState.context, resultadoVenda: resultCheck }; // Adiciona mais dados
             alert(`Dados para ${scriptState.context.prospectName || 'Prospect'} enviados ao CRM (Simulação)! Veja console.`);
             console.log("Dados Enviados:", dataToSend);
             // Marcar visualmente
             const crmLi = document.querySelector('#phase-10-postcall button[onclick="syncCRM()"]').closest('.script-text').querySelector('.checklist li:last-child'); // Achar o último LI do checklist
              if(crmLi && !crmLi.classList.contains('checked')) {
                   toggleChecklistItem(crmLi);
              }
         }

    </script>

</body>
</html>
